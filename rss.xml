<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0">
    <channel>
        <title>RSS è®¢é˜…é…·é…·æ—¶ç©º</title>
        <link>cocosk.com</link>
        <description>RSS é…·é…·æ—¶ç©º</description>
        <lastBuildDate>Sat, 18 Jun 2016 23:35:05 CST</lastBuildDate>
        <language>zh-cn</language>
       
        <item>
            <title>ä½¿ç”¨goçš„sshåŒ…å¿«é€Ÿæ‰“é€ ä¸€ä¸ªæœ¬åœ°å‘½ä»¤è¡Œsshå®¢æˆ·ç«¯</title>
            <link>2016/6/18/go-ssh-client-1.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2016-06-18 11:52:00</pubDate>
            <description>&lt;p&gt;###ğŸ‚çƒ­èº«è¿åŠ¨
&gt;åœ¨å¼€å§‹ä¹‹å‰ï¼Œå…ˆæ¥ä¸ªçƒ­èº«è¿åŠ¨ã€‚è™½ç„¶æ ‡é¢˜å…šå†™ç€å¿«é€Ÿæ‰“é€ ä¸€ä¸ªsshå®¢æˆ·ç«¯ï¼Œä½†æ˜¯å’Œè·‘æ­¥ä¸€æ ·ï¼Œåœ¨è¿åŠ¨å‰è¿˜æ˜¯éœ€è¦å…ˆçƒ­èº«ä¸€ä¸‹ï¼Œä¸ç„¶åˆ°æ—¶å€™èº«ä½“(å¤§è„‘)ä¼šåƒä¸æ¶ˆã€‚æ‰€ä»¥ï¼Œåœ¨å¼€å§‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥ç§‘æ™®ä¸€ä¸‹sshçš„ä¸€äº›ä¸œè¥¿ã€‚&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;å…ˆæ¥è¯´è¯´sshï¼Œè¿™é‡Œçš„sshæ˜¯æŒ‡ç”±IETFçš„ç½‘ç»œå°ç»„ï¼ˆNetwork Working Groupï¼‰æ‰€åˆ¶å®šçš„ä¸ºå»ºç«‹åœ¨åº”ç”¨å±‚å’Œä¼ è¾“å±‚åŸºç¡€ä¸Šçš„å®‰å…¨åè®®ã€‚ï¼ˆå¯¹äºäº†è§£è¿™ä¸ªåè®®çš„è¯·å¿½ç•¥æœ¬æ®µæ–‡å­—ğŸ˜±ï¼‰&lt;a href=&#34;http://baike.baidu.com/link?url=FaRrDm1hC0Xc-R-yqycKE83g2y7HziNpMuYehYI2E2HoYadXU4x_yD2jdMmTOafhhxhETKHNYthn2vKpAsGWFIqAURBvx2l2Zza_cV8FECW&#34;&gt;ç‚¹è¿™é‡Œäº†è§£æ›´å¤šsshä»‹ç»&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å†™è¿‡java webåº”ç”¨çš„åŒå­¦åº”è¯¥è¿˜çŸ¥é“å¦ä¸€ä¸ªssh(struts&#43;spring&#43;hibernate),å½“ç„¶ä»Šå¤©çš„ä¸»è§’å¹¶ä¸æ˜¯å®ƒã€‚ğŸ˜…&lt;/p&gt;

&lt;p&gt;å…¶å®æ¥è§¦è¿‡åç«¯å¼€å‘çš„åŒå­¦å¯¹äºsshåº”è¯¥éƒ½ä¸é™Œç”Ÿï¼Œå¯èƒ½æ¯å¤©ä½ éƒ½åœ¨ä½¿ç”¨å®ƒï¼Œæ²¡é”™ï¼Œå½“ä½ è¦è¿œç¨‹ç™»å½•æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½ç¦»ä¸å¼€å®ƒï¼Œä¿¨ç„¶å·²ç»æˆä¸ºLinuxç³»ç»Ÿçš„æ ‡å‡†é…ç½®ã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯Linuxæ“ä½œç³»ç»Ÿï¼Œé‚£ä¹ˆé»˜è®¤æƒ…å†µä¸‹å°±å·²ç»è‡ªå¸¦sshçš„å®¢æˆ·ç«¯äº†ï¼Œäºæ˜¯ä¹ä½ ç›´æ¥å¯ä»¥åœ¨Linuxçš„shellä¸­æ‰§è¡Œ: &lt;code&gt;ssh user@host&lt;/code&gt; å°±å¯ä»¥å®‰å…¨çš„ç™»å½•åˆ°äº†è¿œç¨‹ä¸»æœºhostã€‚å¯¹äºsshçš„æ›´å¤šå‘½ä»¤æˆ–è€…ç©æ³•ä»Šå¤©å°±ä¸å¤šä»‹ç»äº†ï¼Œå› ä¸ºè¿™ä¸æ˜¯ä»Šå¤©çš„ä¸»è¦ç›®æ ‡ï¼Œä»Šå¤©çš„ä¸»è¦ä»»åŠ¡æ˜¯å®ç°ä¸€ä¸ªå’ŒLinuxæ“ä½œç³»ç»Ÿä¸­é»˜è®¤è‡ªå¸¦çš„sshå‘½ä»¤è¡Œå®¢æˆ·ç«¯ä¸€æ ·çš„ä½¿ç”¨goè¯­è¨€å¼€å‘çš„sshå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå½“ç„¶ç”±äºæ—¶é—´ç¯‡å¹…æœ‰é™ï¼Œè¿™æ¬¡å¹¶ä¸ä¼šå®ç°åŸç”Ÿsshå‘½ä»¤è¡Œå®¢æˆ·ç«¯çš„å…¨éƒ¨åŠŸèƒ½ï¼Œä¸»è¦æ˜¯èƒ½å¤Ÿå®ç°è¿œç¨‹ç™»å½•åˆ°è¿œç¨‹hostï¼Œå¹¶èƒ½è¿›è¡Œå‘½ä»¤è¡Œæ“ä½œã€‚å¯¹äºå…¶ä»–é«˜çº§å‘½ä»¤ï¼Œå¦‚ç«¯å£è½¬å‘ç­‰å°†åœ¨åç»­å®Œæˆã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;###ğŸ”ªå·¥æ¬²å–„å…¶äº‹å¿…å…ˆåˆ©å…¶å™¨&lt;/p&gt;

&lt;p&gt;æ—¢ç„¶è¯´äº†è¦å¿«é€Ÿæ‰“é€ ï¼Œé‚£ä¹ˆå¿…ç„¶éœ€è¦å€ŸåŠ©ä¸€äº›ç°æœ‰çš„å·¥å…·åŒ…äº†ï¼Œè¿™è¾¹ä¸ºäº†å®Œæˆè¿™ä¸ªå®¢æˆ·ç«¯ï¼Œç¬”è€…å¯¹åŸç”Ÿçš„goè¯­è¨€çš„sshåŒ…è¿›è¡Œäº†ä¸€ä¸‹å°è£…åšäº†ä¸€ä¸ªå°å·¥å…·åŒ…gosshtool,å¯ä»¥ä»&lt;a href=&#34;http://git.oschina.net/scottkiss/gosshtool&#34;&gt;ç äº‘&lt;/a&gt;æˆ–è€…&lt;a href=&#34;https://github.com/scottkiss/gosshtool&#34;&gt;github&lt;/a&gt;æ‰¾åˆ°ã€‚æœ‰äº†å®ƒï¼Œå†æ¥åšsshçš„å®¢æˆ·ç«¯å°±è½»æ¾å¤šäº†ã€‚&lt;/p&gt;

&lt;p&gt;###ğŸ’»å¼€å§‹è®¾è®¡
é¦–å…ˆï¼Œè¦å®Œæˆä¸€ä¸ªå‘½ä»¤è¡Œçš„sshå®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹Linuxä¸‹è‡ªå¸¦çš„sshå®¢æˆ·ç«¯æ˜¯æ€ä¹ˆå·¥ä½œçš„ã€‚è¿™é‡Œæ‰€è¯´çš„æ€ä¹ˆå·¥ä½œï¼Œä¼šç«™åœ¨æ¯”è¾ƒé«˜å±‚çš„è§’åº¦ï¼Œå› ä¸ºsshçš„æ•´ä¸ªé€šè®¯åè®®æ¯”è¾ƒå¤æ‚ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»ï¼ŒåŸå› æ˜¯goæä¾›çš„sshåŒ…å·²ç»æŠŠåº•å±‚çš„ä¸€äº›åè®®å®ç°äº†ï¼Œè¿™é‡Œæ²¡å¿…è¦è‡ªå·±å†å†™ä¸€å¥—å®ç°å‡ºæ¥ï¼Œå¦‚æœä½ ç¡®å®å¯¹åº•å±‚åè®®æœ‰å…´è¶£ï¼Œå¯ä»¥è‡ªå·±å»ç½‘ä¸ŠæŸ¥é˜…æ–‡æ¡£ã€‚é‚£ä¹ˆç«™åœ¨æ¯”è¾ƒé«˜å±‚è§’åº¦æ¥çœ‹ï¼Œæ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿ
&gt;æˆ‘ä»¬è¿˜åŸä¸€ä¸ªæœ€å¸¸è§çš„åœºæ™¯ï¼šæŸä¸€å¤©ï¼Œä½ æƒ³ç™»å½•è¿œç¨‹ä¸»æœºï¼Œäºæ˜¯ä½ æ‰“å¼€äº†Linuxçš„shellï¼Œ
è¾“å…¥&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;ssh user@host
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åè¾“å…¥å¯†ç åé¡ºåˆ©çš„ç™»å½•äº†hostè¿™ä¸ªä¸»æœºï¼Œæ¥ç€ä½ åœ¨shellè¾“å…¥ä¸€äº›å‘½ä»¤ï¼Œæ¯”å¦‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;ls
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æŸ¥çœ‹è¿œç¨‹ä¸»æœºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šè¿°åœºæ™¯çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ç”»ä¸€ä¸ªå›¾ï¼Œæ¥çœ‹çœ‹ä½ è¿™äº›æ“ä½œæ˜¯æ€ä¹ˆä¸è¿œç¨‹ä¸»æœºé€šè®¯çš„ï¼Œå¦‚ä¸‹å›¾ï¼š
&lt;a href=&#34;/images/go-ssh-client/aaa.png&#34;&gt;&lt;img src=&#34;/images/go-ssh-client/aaa.png&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ ¹æ®ä¸Šå›¾ï¼Œæˆ‘ä»¬å¼€å§‹è®¾è®¡ï¼Œé¦–å…ˆè¦æƒ³åŠæ³•è¯»å–ç”¨æˆ·çš„é”®ç›˜è¾“å…¥ï¼Œå¦‚ï¼šè¾“å…¥&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;pwd
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨goè¯­è¨€ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨oså’Œbufioä¸¤ä¸ªåŒ…ï¼Œå…³é”®ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;go&#34;&gt;inputReader := bufio.NewReader(os.Stdin)
input, err := inputReader.ReadString(&#39;\n&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¦‚ä¸Šä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¯»å–ä»¥æ¢è¡Œç»“æŸçš„å­—ç¬¦ä¸²ã€‚&lt;/p&gt;

&lt;p&gt;è¿™æ ·å®Œæˆäº†å›¾ä¸­çš„ç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥ï¼Œæˆ‘ä»¬å°†è¦å»ºç«‹ä¸è¿œç¨‹ä¸»æœºçš„sshè¿æ¥ï¼Œè¿™æ—¶å€™å¯ä»¥ç”¨åˆ°å‰é¢ä»‹ç»çš„å·¥å…·gosshtooläº†ï¼Œæœ‰äº†å®ƒå®Œæˆè¿™ä¸€æ­¥å˜å¾—è½»æ¾è®¸å¤šã€‚åœ¨ä»‹ç»è¿™ä¸€æ­¥ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å¯¹è¿™ä¸ªå°†è¦å®ç°çš„å®¢æˆ·ç«¯å†å¤šå•°å—¦å‡ å¥ï¼Œä¸ºäº†ä½¿æˆ‘ä»¬çš„å®¢æˆ·ç«¯çœ‹èµ·æ¥æ›´åƒLinuxè‡ªå¸¦çš„sshå®¢æˆ·ç«¯ï¼Œæˆ‘ä»¬å‡è®¾å°†è¦åšçš„è¿™ä¸ªå®¢æˆ·ç«¯åå­—å«sshcmdï¼Œæˆ‘ä»¬å°†è¦å®Œæˆçš„ä»»åŠ¡æ˜¯åˆ°æ—¶å€™ç”Ÿæˆä¸€ä¸ªå«sshcmdçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;./sshcmd user@host 
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°±å»ºç«‹äº†è¿œç¨‹sshè¿æ¥ï¼Œå¹¶è¿”å›è¿œç¨‹ä¸»æœºç™»å½•ä¿¡æ¯ï¼Œæ¥ç€ä½ å¯ä»¥ç»§ç»­åœ¨æ§åˆ¶å°è¾“å…¥åç»­å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤å®é™…ä¸Šæ˜¯åœ¨è¿œç¨‹ä¸»æœºæ‰§è¡Œçš„ï¼Œå°±åƒLinuxè‡ªå¸¦çš„sshå®¢æˆ·ç«¯ä¸€æ ·ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬è¿˜è¦ç”¨åˆ°goçš„ä¸€ä¸ªå«åšflagçš„åŒ…ï¼Œè¿™ä¸ªåŒ…åœ¨å†™å‘½ä»¤è¡Œç¨‹åºçš„æ—¶å€™éå¸¸æœ‰ç”¨ï¼Œå®ƒå¯ä»¥æ–¹ä¾¿çš„å¯¹å‘½ä»¤å‚æ•°è¿›è¡Œè§£æã€‚æ‰€ä»¥æˆ‘ä»¬ä¼šå†™åˆ°å¦‚ä¸‹å…³é”®ä»£ç ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;go&#34;&gt;func main() {
  flag.StringVar(&amp;host, &#34;h&#34;, &#34;&#34;, &#34;host&#34;)
  flag.StringVar(&amp;passwd, &#34;p&#34;, &#34;&#34;, &#34;password&#34;)
  flag.Parse()
  hostsp := strings.Split(host, &#34;@&#34;)
  user = hostsp[0]
  host = hostsp[1]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬ä»å‘½ä»¤è¡Œè¯»å–äº†user,host,passwordä¸‰ä¸ªé‡è¦å‚æ•°ã€‚æœ‰äº†å®ƒä»¬ï¼Œå¯ä»¥å°±å¯ä»¥å»ºç«‹sshè¿æ¥äº†å…³é”®ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;go&#34;&gt; config := &amp;gosshtool.SSHClientConfig{
    User:     user,
    Password: passwd,
    Host:     host,
  }
  sshclient := gosshtool.NewSSHClient(config)
  _, err := sshclient.Connect()
  if err == nil {
    fmt.Println(&#34;ssh connect success&#34;)
  } else {
    fmt.Println(&#34;ssh connect failed&#34;)
  }
  modes := ssh.TerminalModes{
    ssh.ECHO:          0,
    ssh.TTY_OP_ISPEED: 14400,
    ssh.TTY_OP_OSPEED: 14400,
  }
  pty := &amp;gosshtool.PtyInfo{
    Term:  &#34;xterm-256color&#34;,
    H:     80,
    W:     40,
    Modes: modes,
  }
  session, err := sshclient.Pipe(conn, pty, nil, 30)
  if err != nil {
    fmt.Println(err)
  }
  defer session.Close()

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨äº†gosshtoolçš„NewSSHClientæ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¹¶è°ƒç”¨Connect()å»ºç«‹äº†è¿æ¥ï¼Œæœ€åä½¿ç”¨äº†Pipe(conn, pty, nil, 30)æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªä¿æŒä¼šè¯ï¼Œè¿™æ ·å°±å·å¥½äº†ã€‚è¿™ä¸€åˆ‡çœ‹èµ·æ¥å¦‚æ­¤ç®€å•ï¼Œéƒ½è¦å½’åŠŸäºPipeè¿™ä¸ªæ–¹æ³•ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªReadWriteCloseræ¥å£ç±»å‹ï¼Œåªè¦å®ç°äº†è¯¥æ¥å£çš„ç»“æ„éƒ½å¯ä»¥ä¼ å…¥ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šä½¿ç”¨TCPConnè¿™ä¸ªç»“æ„ï¼Œè¯¥ç»“æ„å®ç°äº†net.Connæ¥å£ï¼Œè€Œnet.Connæ¥å£ä¹Ÿæ˜¯å®ç°äº†ReadWriteCloseræ¥å£çš„ã€‚è¿™ä¸ªå‚æ•°éå¸¸é‡è¦ï¼Œæˆ‘ä»¬å»ºç«‹äº†è¿æ¥åï¼Œåç»­çš„é€šä¿¡å…¨é å®ƒäº†ã€‚ä½ å¦‚æœç†Ÿæ‚‰ReadWriteCloseræ¥å£ï¼Œå…¶å®ä½ å°±çŸ¥é“è¿™ä¸ªæ¥å£åˆç»„åˆäº†ä¸‰ä¸ªæ¥å£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;go&#34;&gt;type ReadWriteCloser interface {
    Reader
    Writer
    Closer
}

type Writer interface {
    Write(p []byte) (n int, err error)
}

type Reader interface {
    Read(p []byte) (n int, err error)
}

type Closer interface {
    Close() error
}

&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å†çœ‹net.Connæ¥å£ï¼š&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;go&#34;&gt;type Conn interface {
    // Readä»è¿æ¥ä¸­è¯»å–æ•°æ®
    // Readæ–¹æ³•å¯èƒ½ä¼šåœ¨è¶…è¿‡æŸä¸ªå›ºå®šæ—¶é—´é™åˆ¶åè¶…æ—¶è¿”å›é”™è¯¯ï¼Œè¯¥é”™è¯¯çš„Timeout()æ–¹æ³•è¿”å›çœŸ
    Read(b []byte) (n int, err error)
    // Writeä»è¿æ¥ä¸­å†™å…¥æ•°æ®
    // Writeæ–¹æ³•å¯èƒ½ä¼šåœ¨è¶…è¿‡æŸä¸ªå›ºå®šæ—¶é—´é™åˆ¶åè¶…æ—¶è¿”å›é”™è¯¯ï¼Œè¯¥é”™è¯¯çš„Timeout()æ–¹æ³•è¿”å›çœŸ
    Write(b []byte) (n int, err error)
    // Closeæ–¹æ³•å…³é—­è¯¥è¿æ¥
    // å¹¶ä¼šå¯¼è‡´ä»»ä½•é˜»å¡ä¸­çš„Readæˆ–Writeæ–¹æ³•ä¸å†é˜»å¡å¹¶è¿”å›é”™è¯¯
    Close() error
    // è¿”å›æœ¬åœ°ç½‘ç»œåœ°å€
    LocalAddr() Addr
    // è¿”å›è¿œç«¯ç½‘ç»œåœ°å€
    RemoteAddr() Addr
    // è®¾å®šè¯¥è¿æ¥çš„è¯»å†™deadlineï¼Œç­‰ä»·äºåŒæ—¶è°ƒç”¨SetReadDeadlineå’ŒSetWriteDeadline
    // deadlineæ˜¯ä¸€ä¸ªç»å¯¹æ—¶é—´ï¼Œè¶…è¿‡è¯¥æ—¶é—´åI/Oæ“ä½œå°±ä¼šç›´æ¥å› è¶…æ—¶å¤±è´¥è¿”å›è€Œä¸ä¼šé˜»å¡
    // deadlineå¯¹ä¹‹åçš„æ‰€æœ‰I/Oæ“ä½œéƒ½èµ·æ•ˆï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸‹ä¸€æ¬¡çš„è¯»æˆ–å†™æ“ä½œ
    // å‚æ•°tä¸ºé›¶å€¼è¡¨ç¤ºä¸è®¾ç½®æœŸé™
    SetDeadline(t time.Time) error
    // è®¾å®šè¯¥è¿æ¥çš„è¯»æ“ä½œdeadlineï¼Œå‚æ•°tä¸ºé›¶å€¼è¡¨ç¤ºä¸è®¾ç½®æœŸé™
    SetReadDeadline(t time.Time) error
    // è®¾å®šè¯¥è¿æ¥çš„å†™æ“ä½œdeadlineï¼Œå‚æ•°tä¸ºé›¶å€¼è¡¨ç¤ºä¸è®¾ç½®æœŸé™
    // å³ä½¿å†™å…¥è¶…æ—¶ï¼Œè¿”å›å€¼nä¹Ÿå¯èƒ½&gt;0ï¼Œè¯´æ˜æˆåŠŸå†™å…¥äº†éƒ¨åˆ†æ•°æ®
    SetWriteDeadline(t time.Time) error
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¯¹æ¯”ä¸‹ä¼šå‘ç°Connæ¥å£ä¹Ÿå®ç°äº†&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Read(b []byte) (n int, err error)&lt;/li&gt;
&lt;li&gt;Write(b []byte) (n int, err error)&lt;/li&gt;
&lt;li&gt;Close() error&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;è¿™ä¹Ÿè¯´æ˜äº†ï¼Œç¡®å®æˆ‘ä»¬å¯ä»¥å°†net.Connçš„å‚æ•°ä¼ å…¥ã€‚é€šè¿‡æ¥å£æ–¹æ³•ï¼Œå…¶å®ä¹Ÿå¯ä»¥çœ‹å‡ºè¿™äº›æ¥å£éƒ½æœ‰ä¸€ä¸ªå…±åŒä½œç”¨ï¼Œå¯ä»¥å¯¹å­—èŠ‚è¿›è¡Œè¯»å†™æ“ä½œã€‚è€Œæˆ‘ä»¬è¦ä¸è¿œç¨‹ä¸»æœºç½‘ç»œé€šä¿¡ï¼Œå½“ç„¶å°‘ä¸äº†è¿™äº›ã€‚å› æ­¤ï¼Œæ‰€æœ‰å®ç°ä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•çš„ç»“æ„éƒ½æ˜¯å¯ä»¥ä¼ å…¥å¹¶äºè¿œç¨‹ä¸»æœºå»ºç«‹çš„sshè¿æ¥é€šä¿¡çš„ã€‚è¿™é‡Œï¼Œæˆ‘ä»¬çš„æƒ³æ³•æ˜¯ï¼šåœ¨æœ¬åœ°èµ·ä¸€ä¸ªsocketæœåŠ¡ï¼Œå¹¶æ¥å—æ ‡å‡†è¾“å…¥ï¼Œæœ€ç»ˆå°†æ ‡å‡†è¾“å…¥çš„æ•°æ®é€šè¿‡Pipeè½¬å‘ç»™è¿œç¨‹ä¸»æœºï¼Œå®ç°æœ¬åœ°ç»ˆç«¯è¾“å…¥å‘½ä»¤é€šè¿‡sshåè®®è¿œç¨‹æ‰§è¡Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;/images/go-ssh-client/bbb.png&#34;&gt;&lt;img src=&#34;/images/go-ssh-client/bbb.png&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æ­£å¦‚å›¾ä¸­æ‰€ç¤ºï¼Œå®é™…ä¸ŠPipeæ–¹æ³•å¯ä»¥ç†è§£ä¸ºå°†tcpè¿æ¥è½¬æˆäº†sshè¿æ¥å¹¶å¯ä»¥é€šè¿‡å®ƒä¼ é€’æ•°æ®ã€‚å½“ç„¶ä¹Ÿå¯ä»¥å°†websocketçš„è¿æ¥è½¬æˆsshè¿æ¥ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°åŸºäºwebç½‘é¡µçš„sshå®¢æˆ·ç«¯äº†ï¼Œä¹Ÿæ˜¯éå¸¸ç®€å•çš„ï¼Œè¿™ä¸ªåç»­ä»‹ç»ã€‚ä»‹ç»åˆ°è¿™é‡Œï¼Œå¤§éƒ¨åˆ†å…³é”®çš„ç‚¹éƒ½å·²ç»è¯´å®Œäº†ï¼Œè¿™é‡Œåªæ˜¯ç®€å•å®ç°äº†ä¸€ä¸ªæœ€ç®€å•ç‰ˆæœ¬çš„sshå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œå½“ç„¶é€šè¿‡gosshtoolè¿˜å¯ä»¥åšå¾ˆå¤šå¥½ç©çš„ä¸œè¥¿ï¼Œæ¯”å¦‚éƒ¨ç½²å·¥å…·ï¼Œæœ¬åœ°è½¬å‘æœåŠ¡ï¼Œå‘½ä»¤è¡Œè¿ç»´å·¥å…·ç­‰ã€‚æœ€åï¼Œæœ€æœ€å…³é”®çš„ï¼Œæ”¾ä¸Šæœ¬æ¬¡å®è·µçš„å®Œæ•´æºç ï¼š
&lt;a href=&#34;https://github.com/scottkiss/sshcmd&#34;&gt;sshcmdæºç &lt;/a&gt;&lt;/p&gt;

&lt;p&gt;###æ€»ç»“
æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•æ‰“é€ ä¸€ä¸ªæœ¬åœ°å‘½ä»¤è¡Œsshå®¢æˆ·ç«¯ï¼Œå¦‚æœåŸºäºç°æˆçš„å·¥å…·åŒ…ç¡®å®æ²¡å¤šå°‘å·¥ä½œé‡ï¼Œè€Œä¸”å¤§éƒ¨åˆ†åŠŸèƒ½éƒ½å®ç°æ¯”è¾ƒç²—ç³™ï¼Œæƒå½“æŠ›ç –å¼•ç‰ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2016/6/18/go-ssh-client-1.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2016&lt;/sup&gt;â„&lt;sub&gt;6&lt;/sub&gt;/18/go-ssh-client-1.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>ä½¿ç”¨dockeræ­å»ºnfså®ç°å®¹å™¨é—´å…±äº«æ–‡ä»¶</title>
            <link>2016/2/16/docker-nfs.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2016-02-16 11:52:00</pubDate>
            <description>&lt;p&gt;é¦–å…ˆä»‹ç»ä¸‹ä»Šå¤©çš„ä¸¤ä¸ªä¸»è§’:nfså’Œdocker&lt;/p&gt;

&lt;h2&gt;nfs æ˜¯ä»€ä¹ˆ&lt;/h2&gt;

&lt;p&gt;NFSï¼ˆNetwork File Systemï¼‰å³ç½‘ç»œæ–‡ä»¶ç³»ç»Ÿï¼Œæ˜¯FreeBSDæ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä¸€ç§ï¼Œå®ƒå…è®¸ç½‘ç»œä¸­çš„è®¡ç®—æœºä¹‹é—´é€šè¿‡TCP/IPç½‘ç»œå…±äº«èµ„æºã€‚åœ¨NFSçš„åº”ç”¨ä¸­ï¼Œæœ¬åœ°NFSçš„å®¢æˆ·ç«¯åº”ç”¨å¯ä»¥é€æ˜åœ°è¯»å†™ä½äºè¿œç«¯NFSæœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ï¼Œå°±åƒè®¿é—®æœ¬åœ°æ–‡ä»¶ä¸€æ ·ã€‚
æ‘˜è‡ª&lt;a href=&#34;http://baike.baidu.com/link?url=QduB9ZQNclk4p1b8t5_eLcjmSShlkGHKQhdI7vvmCpz7p-1U2ta_2HmukKzIr7laQj6-jujjkp6T4GK6hfhbbS4A1FL7UJE0iU8ctvhv_Oa&#34;&gt;ç™¾åº¦ç™¾ç§‘&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;docker æ˜¯ä»€ä¹ˆ&lt;/h2&gt;

&lt;p&gt;è¿™ä¸ªå°±ä¸å¤šè¯´äº†,è¿‘ä¸¤å¹´ä¸€ä¸ªéå¸¸æµè¡Œçš„ä¸œè¥¿å“¦ã€‚&lt;/p&gt;

&lt;p&gt;ä¸»è§’ä»‹ç»å®Œæ¯•ï¼Œé‚£ä¹ˆè¦è¯´è¯´ä¸ºä»€ä¹ˆè¦ä½¿ç”¨dockeræ¥æ­å»ºnfsï¼Œå…¶å®æœ¬æ–‡æ ‡é¢˜å·²ç»è¯´æ˜ï¼Œä¸»è¦ç›®çš„è¿˜æ˜¯ä¸ºäº†å®ç°å®¹å™¨é—´æ–‡ä»¶çš„å…±äº«ã€‚
ç”¨è¿‡dockerçš„éƒ½åº”è¯¥çŸ¥é“dockerå¯ä»¥æ”¯æŒå®¹å™¨ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºã€‚è€Œé€šè¿‡nfsï¼Œåˆ™å¯ä»¥å°†å®¹å™¨ä¹‹é—´çš„ç›®å½•å®ç°å…±äº«æŒ‚è½½ã€‚å¦‚æœä½ æœ‰å¤šä¸ªå®¹å™¨é—´éœ€è¦å…±äº«æ–‡ä»¶çš„éœ€æ±‚ï¼Œè¿™ä¸ªå°†æ˜¯ä¸€ä¸ªå¯ä»¥å°è¯•çš„æ–¹æ¡ˆï¼Œå…·ä½“ä½¿ç”¨åœºæ™¯çœ‹å¤§å®¶å‘æŒ¥æƒ³è±¡äº†ï¼Œä»Šå¤©è¿™é‡Œä¸»è¦å®è·µä¸€ä¸‹å¦‚ä½•å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p&gt;

&lt;h2&gt;æ¶‰åŠåˆ°çš„çŸ¥è¯†&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;nfså®‰è£…&lt;/li&gt;
&lt;li&gt;dockerå®¹å™¨é—´é€šä¿¡&lt;/li&gt;
&lt;li&gt;docker privileged&lt;/li&gt;
&lt;li&gt;dockerfile&lt;/li&gt;
&lt;li&gt;dockeré•œåƒ&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;ç¼–å†™dockerfile&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;FROM ubuntu
ENV DEBIAN_FRONTEND noninteractive
RUN apt-get update -qq &amp;&amp; apt-get install -y nfs-kernel-server runit inotify-tools -qq
RUN mkdir -p /exports

VOLUME /exports

EXPOSE 111/udp 2049/tcp
&lt;/code&gt;&lt;/pre&gt;

&lt;h2&gt;åˆ¶ä½œdockeré•œåƒ&lt;/h2&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt; docker build -t=scottkiss/nfs .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿è¡Œè¯¥å‘½ä»¤éœ€è¦ä¸€æ®µæ—¶é—´ï¼ŒæˆåŠŸåæ‰§è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;docker images
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å°†ä¼šçœ‹åˆ°æœ¬åœ°åˆšåˆšåˆ›å»ºnfsçš„dockeré•œåƒ&lt;/p&gt;

&lt;h2&gt;é…ç½®å¹¶è¿è¡ŒnfsæœåŠ¡å™¨&lt;/h2&gt;

&lt;p&gt;æ‰§è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;docker run -it --name nfs-server --privileged scottkiss/nfs
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ‰§è¡Œå®Œæ¯•åè¿›å…¥å®¹å™¨ç»ˆç«¯&lt;/p&gt;

&lt;p&gt;ä¿®æ”¹é…ç½®&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;vi /etc/exports
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;åœ¨æœ«å°¾åŠ å…¥&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;/exports *(rw,sync,no_subtree_check,fsid=0,no_root_squash)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¶åæ‰§è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;exportfs -r
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¥ç€å¯åŠ¨rpcbindæœåŠ¡&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;service rpcbind start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€åå¯åŠ¨nfsæœåŠ¡&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;service nfs-kernel-server start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è‡³æ­¤ï¼Œä¸å‡ºæ„å¤–ï¼Œå·²ç»æˆåŠŸçš„å¯åŠ¨äº†nfsæœåŠ¡å™¨ï¼Œå¹¶ä¸”å°†/exportsç›®å½•å…±äº«äº†å‡ºå»ã€‚è¿™é‡Œï¼Œç¬”è€…åœ¨å¼€å§‹çš„æ—¶å€™é‡åˆ°ä¸€å‘ï¼Œ
å°±æ˜¯å¯åŠ¨æ—¶å€™éœ€è¦åŠ ä¸Šâ€“privilegedå‚æ•°ï¼Œå¦åˆ™å¯åŠ¨nfsæœåŠ¡æ—¶å€™ä¼šæç¤ºæƒé™ä¸è¶³æŠ¥é”™ã€‚ä¸»è¦æ˜¯è¿™ä¸ªè¿‡ç¨‹ä¸­æ¶‰åŠåˆ°äº†mountæ“ä½œï¼Œ
ä½¿ç”¨è¯¥å‚æ•°åä½¿å¾—containerå†…çš„rootæ‹¥æœ‰çœŸæ­£çš„rootæƒé™ï¼Œè¿™æ ·å°±ä¸ä¼šæŠ¥é”™äº†ã€‚&lt;/p&gt;

&lt;h2&gt;é…ç½®å¹¶å¯åŠ¨å®¢æˆ·ç«¯&lt;/h2&gt;

&lt;p&gt;å®¢æˆ·ç«¯å°±ç®€å•å¤šäº†ï¼Œä¸éœ€è¦åƒæœåŠ¡å™¨é‚£æ ·é…ç½®äº†ã€‚
æ‰§è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;docker run -it --link nfs-server:nfs  --privileged scottkiss/nfs
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿›å…¥å®¹å™¨ç»ˆç«¯ã€‚ç„¶åæ‰§è¡Œ&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;service rpcbind start
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¥ç€æ‰§è¡Œè¿œç¨‹æŒ‚è½½å‘½ä»¤&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;bash&#34;&gt;mount -t nfs -o proto=tcp,port=2049 $NFS_PORT_2049_TCP_ADDR:/exports /home
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;è¿™æ ·ï¼Œä¾¿å°†æœåŠ¡å™¨çš„exportsç›®å½•æŒ‚è½½åˆ°äº†å®¢æˆ·ç«¯çš„homeç›®å½•äº†ã€‚&lt;/p&gt;

&lt;p&gt;è¿«ä¸åŠå¾…çš„å¯ä»¥è¯•è¯•äº†ï¼Œå¦‚åœ¨serverç»ˆç«¯çš„/exportsç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨clientçš„/homeä¸‹ä¹Ÿä¼šåŒæ­¥æ·»åŠ ã€‚&lt;/p&gt;

&lt;p&gt;è¿™é‡Œæ¶‰åŠçš„ä¸»è¦å°±æ˜¯â€“linkå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯å‘Šè¯‰Dockerå®¹å™¨éœ€è¦ä½¿ç”¨nfs-serverè¿™ä¸ªå®¹å™¨å¹¶å°†å…¶åˆ«åå‘½åä¸ºnfsã€‚è¿™æ ·,å°±å¯ä»¥ä½¿ç”¨$NFS_PORT_2049_TCP_ADDRæ¥è·å–æœåŠ¡å™¨ipäº†ã€‚&lt;/p&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;ä»¥ä¸Šæ‰€æœ‰åªæ˜¯ä¸ºäº†æµ‹è¯•è€Œåšçš„ä¸€ä¸ªç²—ç³™çš„æ–¹æ¡ˆï¼Œè¿˜æœ‰å¾ˆå¤šæ”¹è¿›ä¹‹å¤„ï¼ŒåŒ…æ‹¬dockerfileï¼Œè¿™é‡Œä¸ºäº†ä¾¿äºè¯•éªŒï¼Œå°½é‡ä½¿ç”¨äº†ç®€å•ç²—æš´çš„æ–¹å¼ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2015/2/16/docker-nfs.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2016&lt;/sup&gt;â„&lt;sub&gt;2&lt;/sub&gt;/16/docker-nfs.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>docker pull ç§æœ‰ä»“åº“é•œåƒå‡ºé”™çš„é—®é¢˜</title>
            <link>2015/2/17/docker-pull-image-error.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2015-02-17 11:52:00</pubDate>
            <description>&lt;h2&gt;é—®é¢˜æè¿°&lt;/h2&gt;

&lt;p&gt;é€šè¿‡docker pullå‘½ä»¤æ¥pullç§æœ‰ä»“åº“imageå‡ºç°æŠ¥é”™ï¼š&lt;/p&gt;

&lt;p&gt;FATA[0010] Error: v1 ping attempt failed with error: Get &lt;a href=&#34;https://111.xx.xx.xx/v1/_ping:&#34;&gt;https://111.xx.xx.xx/v1/_ping:&lt;/a&gt; dial tcp 111.xx.xx.xx:443: i/o timeout. If this private registry supports only HTTP or HTTPS with an unknown CA certificate, please add &lt;code&gt;--insecure-registry 111.xx.xx.xx&lt;/code&gt; to the daemonâ€™s arguments. In the case of HTTPS, if you have access to the registryâ€™s CA certificate, no need for the flag; simply place the CA certificate at /etc/docker/certs.d/111.xx.xx.xx/ca.crt&lt;/p&gt;

&lt;p&gt;æ ¹æ®é”™è¯¯æç¤ºï¼Œæ˜¯CAçš„é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨dockerçš„å¯åŠ¨å‚æ•°åŠ ä¸Š-insecure-registry 111.xx.xx.xxï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨vi /etc/default/docker,åŠ ä¸Š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;DOCKER_OPTS=&#34;$DOCKER_OPTS --insecure-registry=111.xx.xx.xx&#34;
&lt;/pre&gt;

&lt;p&gt;ç„¶åé‡å¯Docker&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;sudo service docker restart
&lt;/pre&gt;

&lt;p&gt;ä½†æ˜¯ï¼Œå¦‚æœä½ æ˜¯åœ¨OS Xç³»ç»Ÿä¸‹ä½¿ç”¨boot2dockerçš„ï¼Œé‚£ä¹ˆé€šè¿‡boot2docker ssh è¿›å…¥åˆ°è™šæ‹Ÿæœºï¼Œæ“ä½œä¸Šè¿°æ–¹æ³•æ˜¯ä¸è¡Œçš„ï¼Œå½“ç„¶æœ‰å…¶ä»–åŠæ³•ï¼Œé‚£å°±æ˜¯sshåˆ°boot2dockerè™šæ‹Ÿæœºï¼Œç„¶åä¿®æ”¹vi /var/lib/boot2docker/profile åŠ å…¥&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;EXTRA_ARGS=&#34;--insecure-registry=111.xx.xx.xx&#34;
&lt;/pre&gt;

&lt;p&gt;ç„¶åé€€å‡ºè™šæ‹Ÿæœº,æ‰§è¡Œé‡å¯ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;boot2docker down&lt;/li&gt;
&lt;li&gt;boot2docker up&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ç„¶åå°±å¯ä»¥ä»111.xx.xx.xxçš„ç§æœ‰ä»“åº“pull imagesäº†ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2015/2/17/docker-pull-image-error.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2015&lt;/sup&gt;â„&lt;sub&gt;2&lt;/sub&gt;/17/docker-pull-image-error.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>å¿«é€Ÿå­¦ä¹ ioså¼€å‘ï¼šObjective-CåŸºç¡€(ä¸€)</title>
            <link>2015/2/7/learn-ios-dev-faster-oc-1.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2015-02-07 22:33:10</pubDate>
            <description>&lt;h2&gt;é›¶ã€å…³äºå¿«é€Ÿå­¦ä¹ ioså¼€å‘ç³»åˆ—æ–‡ç« &lt;/h2&gt;

&lt;p&gt;ä¸ºä»€ä¹ˆä¼šè¦å†™è¿™ä¸ªç³»åˆ—ï¼Ÿ&lt;/p&gt;

&lt;p&gt;è¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼Œå…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªç³»åˆ—æ˜¯å¦ä¼šå’Œå…¶ä»–ç³»åˆ—ä¸€æ ·å†™ç€å†™ç€å°±æç½®å¥½å¤šäº†ï¼Œç„¶åä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ‰æ›´æ–°ã€‚ä½†æ˜¯æ— æ‰€è°“ï¼Œå› ä¸ºæœ¬æ¥å°±æ˜¯ä¸»è¦ç”¨æ¥è®°å½•ä¸ªäººå­¦ä¹ è¿‡ç¨‹çš„ï¼Œå¦‚æœåœ¨è¿™è¿‡ç¨‹ä¸­èƒ½å¤Ÿå¸®åŠ©åˆ°åˆ«äººä¹Ÿç®—æ˜¯ä¸€ä»¶ä¸é”™çš„äº‹æƒ…ã€‚æ‰€ä»¥ä¸è¦å¤ªæœŸæœ›æ–‡ç« ä¸€å®šä¼šåŠæ—¶æˆ–è€…æŒç»­æ›´æ–°ä¸‹å»ï¼Œå°±æ¯”å¦‚åšå®¢ä¸­å…¶ä»–æ–‡ç« ä¸€æ ·ï¼Œå› ä¸ºå¾ˆå¤šä¹Ÿåªæ˜¯è®°å½•ä¸ªäººå­¦ä¹ å†ç¨‹ï¼Œå¦‚æœæŸä¸ªæŠ€æœ¯åœ¨å®é™…å·¥ä½œæˆ–è€…å­¦ä¹ ä¸­ä¸éœ€è¦ç»§ç»­æ·±ç©¶ä¸‹å»äº†ï¼Œå¯èƒ½å°±ä¸ä¼šåŠæ—¶æŒç»­æ›´æ–°äº†ï¼Œå› ä¸ºè¦å¿™çš„äº‹æƒ…å®åœ¨å¤ªå¤šï¼Œå½“ç„¶ï¼Œå¦‚æœæœ‰æ—¶é—´çš„è¯ï¼Œæˆ‘è¿˜æ˜¯éå¸¸å¸Œæœ›èƒ½æŠŠæœªå®Œç»“çš„æ‰€æœ‰ç³»åˆ—æ–‡ç« éƒ½ç»™æ¥ä¸ªå¤§ç»“å±€ã€‚è¿™ä¸ï¼Œæœ€è¿‘å…¥æ‰‹äº†Macï¼Œå½“ç„¶å¾—å­¦ä¹ å­¦ä¹ iosäº†ã€‚å¦‚æœä½ ä¹Ÿæ˜¯æ–°æ‰‹ï¼Œå¯ä»¥è·Ÿç€ä¸€èµ·ç©ç©ã€‚&lt;/p&gt;

&lt;h2&gt;ä¸€ã€éœ€è¦å‡†å¤‡çš„&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€å°Mac&lt;/li&gt;
&lt;li&gt;Macé‡Œè£…ä¸ªXcodeï¼Œè¿™é‡Œç‰ˆæœ¬æ˜¯6.1.1&lt;/li&gt;
&lt;li&gt;ä¸€åªä¼šç¼–ç¨‹çš„çŒ´å­&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸Šè¿°ä¸‰ä¸ªæ¡ä»¶ï¼Œå‰é¢ä¸¤ä¸ªåº”è¯¥éƒ½æ¯”è¾ƒå¥½æå®šï¼Œç¬¬ä¸‰ä¸ªéœ€è¦ä¸€ä¸ªä¼šç¼–ç¨‹çš„çŒ´å­ï¼Œè¿™ä¸ªæ¡ä»¶å°±æ¯”è¾ƒç‰¹æ®Šäº†ï¼Œå› ä¸ºæ¯åªçŒ´å­çš„åŸºç¡€éƒ½ä¸ä¸€æ ·å•Šï¼Œä»€ä¹ˆï¼Ÿä½ ä¸çŸ¥é“çŒ´å­æ˜¯ä»€ä¹ˆï¼Ÿé‚£ä¼°è®¡ä½ ä¸éœ€è¦å¾€ä¸‹çœ‹äº†ã€‚å½“ç„¶çŒ´å­çš„åŸºç¡€è¶Šå¥½ï¼Œå°±è¶Šèƒ½æŒæ¡æœ¬ç³»åˆ—çš„ç²¾é«“ï¼å¿«é€Ÿã€‚æ‰€ä»¥ï¼Œåœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ç»å¯¹ä¸æ˜¯é‚£ç§ã€Šxxxå…¥é—¨ã€‹ä»€ä¹ˆç±»å‹çš„ï¼Œä¼šèŠ±å¾ˆå¤šæ—¶é—´å…ˆæ¥å­¦å­¦ocè¯­è¨€è¯­æ³•ï¼Œç„¶åä¸€æ­¥ä¸€æ­¥æˆªå›¾å±•ç¤ºå¦‚ä½•åˆ›å»ºä¸€ä¸ªhello worldã€‚æ‰€ä»¥åšå¥½å‡†å¤‡ï¼Œå¯èƒ½åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­ï¼Œä½ ä¼šéœ€è¦å¦å¤–å»æŸ¥é˜…èµ„æ–™ã€‚&lt;/p&gt;

&lt;h2&gt;äºŒã€ä»xxxè¯­è¨€åˆ°Objective-C&lt;/h2&gt;

&lt;p&gt;åœ¨ioså¼€å‘ä¸­ç°åœ¨å¯ä»¥ä½¿ç”¨Objective-Cæˆ–è€…æ˜¯Swiftå¼€å‘è¯­è¨€ã€‚è¿™é‡Œå­¦ä¹ ä¸ºä»€ä¹ˆä¸é€‰Swiftå‘¢ï¼Ÿè™½ç„¶å¥¹æ¯”è¾ƒæ–°ï¼Œè€Œä¸”ç›¸ä¿¡æœªæ¥å‘å±•ä¹Ÿæ˜¯éå¸¸ä¸é”™çš„ï¼Œä½†æ˜¯ç›®å‰ç¬¬ä¸‰æ–¹æ”¯æŒæˆ–è€…ä¸€äº›å‘å¯èƒ½éƒ½æ²¡æœ‰å‰äººè¸©è¿‡ï¼Œæ‰€ä»¥è¿˜æ˜¯é€‰æ‹©ç¨³å®šä¸”ä½†æ¯”è¾ƒæ—§çš„Objective-Cã€‚å½“ç„¶ï¼Œå¯¹äºåƒç¬”è€…è¿™æ ·å–œæ¬¢å°è¯•å„ç§è¯­è¨€çš„ï¼Œåˆ°æ—¶å€™åˆ‡æ¢Swiftä¹Ÿè¯´ä¸ä¼šæœ‰ä»»ä½•å›°éš¾çš„ã€‚æ‰€ä»¥ï¼Œè¿™ä¸ªæ ‡é¢˜ä¹Ÿå°±å˜æˆäº†xxxè¯­è¨€åˆ°Objective-Cäº†ï¼Œå› ä¸ºç¬”è€…å¹¶ä¸æ˜¯ä»æŸä¸€ç§è¯­è¨€è½¬æ¥çš„ï¼Œè€Œæ˜¯ä¸€å †ã€‚æ‰€ä»¥æˆ‘ä¼šåœ¨ä¸åŒè¯­è¨€è§’åº¦æ¥çœ‹Objective-Cçš„è¯­æ³•æ¥å¯¹æ¯”ï¼Œå½“ç„¶è¿˜æ˜¯ä¼šé€‰æ‹©ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„è¯­è¨€ã€‚
æ‰€ä»¥å¦‚æœä½ è¿˜æ²¡æœ‰å­¦è¿‡å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Œå¯èƒ½å°±æ¯”è¾ƒæƒ¨äº†ï¼Œå› ä¸ºå¿«é€Ÿå…¥é—¨æ˜¯å»ºç«‹åœ¨ä¹‹å‰åŸºç¡€ä¸Šçš„ï¼Œå»ºè®®è¿˜æ˜¯ä¹–ä¹–çš„å…ˆå­¦ä¹ ä¸€é—¨è¯­è¨€å¹¶ç†Ÿç»ƒè¿ç”¨å†å›æ¥ï¼Œä¸ç„¶çœ‹äº†ä¹Ÿè¯´æµªè´¹æ—¶é—´ã€‚&lt;/p&gt;

&lt;h2&gt;ä¸‰ã€å¿«é€Ÿæµè§ˆObjective-C&lt;/h2&gt;

&lt;p&gt;æ—¢ç„¶è¦å¿«é€Ÿå­¦ï¼Œé‚£æˆ‘ä»¬è‚¯å®šä¸æ˜¯å»æ‹¿æœ¬Objective-Cçš„åŸºæœ¬è¯­æ³•ä¹¦ä»Hello Worldå¼€å§‹å­¦èµ·ï¼Œäºæ˜¯æˆ‘ä»¬å°±ç«™åœ¨å·²ç»å­¦ä¼šçš„è§’åº¦å»å­¦ï¼Œå¬èµ·æ¥æœ‰ç‚¹æ€ªæ€ªçš„ã€‚é¦–å…ˆæˆ‘ä»¬æ¥å›ç­”ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå­¦Objective-Cï¼Ÿå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬è¦æ‹¿å®ƒæ¥å†™iosçš„åº”ç”¨æˆ–è€…æ¸¸æˆï¼Œäºæ˜¯ï¼Œæˆ‘ä»¬å°±æ¸…æ¥šæˆ‘ä»¬è¦åšçš„äº†ã€‚å½“ç„¶è¯´èµ¶ç´§çš„æ‰“å¼€Xcodeï¼Œåˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®ã€‚å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;/assets/themes/sk/pic/ios1-1.png&#34;&gt;&lt;img src=&#34;/assets/themes/sk/pic/ios1-1.png&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;/assets/themes/sk/pic/ios1-2.png&#34;&gt;&lt;img src=&#34;/assets/themes/sk/pic/ios1-2.png&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;æŒ‰ç…§ä¸Šåˆ›å»ºFirstAppï¼Œå¹¶è®¾ç½®é¡¹ç›®åç§°ç­‰ä¿¡æ¯ï¼Œç„¶åå¯ä»¥å°±å¯ä»¥çœ‹ä¸‹é¡¹ç›®çš„ç»“æ„äº†:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;/assets/themes/sk/pic/ios1-3.png&#34;&gt;&lt;img src=&#34;/assets/themes/sk/pic/ios1-3.png&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;äºæ˜¯æˆ‘ä»¬ä»ç›®å½•ç»“æ„æ¥çŒœçŒœçœ‹ï¼Œé©¬ä¸Šå‘ç°æœ‰ä¸ªmain.mçš„æ–‡ä»¶ï¼Œå­¦è¿‡Cè¯­è¨€çš„åº”è¯¥æœ‰ç‚¹å°è±¡ï¼Œè«éå®ƒä¹Ÿæ˜¯ocçš„å…¥å£å‡½æ•°ï¼ŒäºŒè¯ä¸è¯´ï¼Œæ‰“å¼€ä¹‹ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#import &lt;UIKit/UIKit.h&gt;
#import &#34;AppDelegate.h&#34;

int main(int argc, char * argv[]) {
    @autoreleasepool {
        return UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate class]));
    }
}
&lt;/pre&gt;

&lt;p&gt;å¥½å®¶ä¼™ï¼Œè¿mainå‡½æ•°å‚æ•°éƒ½å’ŒCè¯­è¨€çš„ä¸€æ ·ã€‚é‚£æ¥æ‰¾æ‰¾ä¸ä¸€æ ·çš„å‘¢ï¼Œå‘ç°å¼€å¤´æ˜¯#importè€Œä¸æ˜¯#include,ä»–ä»¬å…·ä½“å¼‚åŒç‚¹å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;#importæ˜¯ä¸€ä¸ªé¢„å¤„ç†æŒ‡ä»¤ï¼Œä½œç”¨è·ŸCè¯­è¨€çš„#includeç±»ä¼¼ï¼ŒåŒ…å«æŸä¸ªæ–‡ä»¶çš„å†…å®¹åˆ°é¢„å¤„ç†æŒ‡ä»¤æ‰€åœ¨çš„ä½ç½®ã€‚&lt;/li&gt;

&lt;li&gt;&lt;p&gt;åœ¨C\C&#43;&#43;ä¸­ï¼Œæˆ‘ä»¬ç”¨#includeæ¥åŒ…å«å¤´æ–‡ä»¶ï¼Œä½†æ˜¯åŒä¸€ä¸ªå¤´æ–‡ä»¶å¯èƒ½è¢«åŒ…å«å¤šæ¬¡ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸€èˆ¬æˆ‘ä»¬ä¼šè¿™ä¹ˆå†™ï¼š&lt;/p&gt;

&lt;p&gt;#ifndef &lt;em&gt;APP_H&lt;/em&gt;
#define &lt;em&gt;APP_H&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;/&lt;em&gt;â€¦..&lt;/em&gt;/&lt;/p&gt;

&lt;p&gt;#endif&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ä½¿ç”¨#importæ¥åŒ…å«å¤´æ–‡ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨é˜²æ­¢åŒä¸€ä¸ªå¤´æ–‡ä»¶è¢«åŒ…å«å¤šæ¬¡ã€‚&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;#import &lt;xxx&gt;è¡¨ç¤ºåŒ…å«ç³»ç»Ÿè‡ªå¸¦çš„æ–‡ä»¶ï¼Œ#import â€œxxxâ€è¡¨ç¤ºåŒ…å«å¼€å‘äººå‘˜è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æˆ‘ä»¬å†æ¥çœ‹mainå‡½æ•°ä½“çš„å†…å®¹ï¼Œå‘ç°æœ‰ä¸ª@autoreleasepoolï¼Œè¿™ä¸ªæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿå†™è¿‡Javaçš„éƒ½åº”è¯¥çŸ¥é“Javaçš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä½†æ˜¯OCæ˜¯ä¸æ”¯æŒåƒåœ¾å›æ”¶çš„ï¼Œéœ€è¦å¼€å‘äººå‘˜ç¼–å†™ä»£ç æ¥é‡Šæ”¾å¯¹è±¡æ‰€å ç”¨çš„å†…å­˜ã€‚è¿™ä¸ªä¸œè¥¿å°±æ˜¯OCå†…å­˜ç®¡ç†çš„ä¸€ç§ä¸œè¥¿ï¼è‡ªåŠ¨é‡Šæ”¾æ± ï¼Œä½¿ç”¨è¿™ä¸ªä¸œè¥¿å°±å¯ä»¥æ–¹ä¾¿å¼€å‘äººå‘˜ä¸å†éœ€è¦æ¯æ¬¡æ‰‹åŠ¨çš„retainå’Œreleaseå¯¹è±¡ï¼Œè¿™éƒ¨åˆ†æ¶‰åŠåˆ°å†…å­˜ç®¡ç†æ¯”è¾ƒæ·±å…¥çš„ä¸œè¥¿äº†ï¼Œæš‚ä¸”ä¸æ·±å…¥äº†è§£ï¼Œåç»­å†è¯´ã€‚&lt;/p&gt;

&lt;h2&gt;å››ã€UIApplicationMain&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬æ‰“å¼€UIApplicationMainçš„å®šä¹‰&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;UIKIT_EXTERN int UIApplicationMain(int argc, char *argv[], NSString *principalClassName, NSString *delegateClassName);
&lt;/pre&gt;

&lt;p&gt;å—¯ï¼Œçœ‹èµ·æ¥åƒæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½†æ˜¯å‰é¢æœ‰ä¸ªUIKIT_EXTERNï¼Œç»§ç»­æŸ¥çœ‹æºç ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#import &lt;Availability.h&gt;

#ifdef __cplusplus
#define UIKIT_EXTERN        extern &#34;C&#34; __attribute__((visibility (&#34;default&#34;)))
#else
#define UIKIT_EXTERN            extern __attribute__((visibility (&#34;default&#34;)))
#endif

#define UIKIT_STATIC_INLINE     static inline
&lt;/pre&gt;

&lt;p&gt;åŸæ¥æ˜¯ä¸€ä¸ªå®å®šä¹‰ï¼Œå…¶ä¸­&lt;strong&gt;cplusplusæ˜¯cppä¸­çš„è‡ªå®šä¹‰å®ï¼Œå¦‚æœè¿™æ˜¯ä¸€æ®µcppçš„ä»£ç ï¼Œé‚£ä¹ˆåŠ å…¥externâ€Câ€å’Œå…¶ä¸­çš„ä»£ç ã€‚externæ˜¯C/C&#43;&#43;è¯­è¨€ä¸­è¡¨æ˜å‡½æ•°å’Œå…¨å±€å˜é‡ä½œç”¨èŒƒå›´ï¼ˆå¯è§æ€§ï¼‰çš„å…³é”®å­—ï¼Œè¯¥å…³é”®å­—å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œå…¶å£°æ˜çš„å‡½æ•°å’Œå˜é‡å¯ä»¥åœ¨æœ¬æ¨¡å—æˆ–å…¶å®ƒæ¨¡å—ä¸­ä½¿ç”¨ã€‚C&#43;&#43;ä¹‹çˆ¶åœ¨è®¾è®¡C&#43;&#43;ä¹‹æ—¶ï¼Œè€ƒè™‘åˆ°å½“æ—¶å·²ç»å­˜åœ¨äº†å¤§é‡çš„Cä»£ç ï¼Œä¸ºäº†æ”¯æŒåŸæ¥çš„Cä»£ç å’Œå·²ç»å†™å¥½Cåº“ï¼Œéœ€è¦åœ¨C&#43;&#43;ä¸­å°½å¯èƒ½çš„æ”¯æŒCï¼Œè€Œ extern â€œCâ€å°±æ˜¯å…¶ä¸­çš„ä¸€ä¸ªç­–ç•¥ã€‚&lt;/strong&gt;attribute&lt;strong&gt;æ˜¯GNU Cçš„ä¸€ç§æœºåˆ¶ï¼Œç”¨æ³•ä¸º_attribute&lt;/strong&gt; ((attribute-list))ã€‚å½“é¡¹ç›®éœ€è¦ä½œä¸ºä¸€ä¸ªåº“è¢«å¤–åŒ…å¼•ç”¨çš„æ—¶å€™é€šå¸¸åœ¨ç¼–è¯‘æ—¶å¯ä»¥ç”¨å‚æ•°-fvisibilityæŒ‡å®šæ‰€æœ‰ç¬¦å·çš„å¯è§æ€§ã€‚åœ¨ç¼–è¯‘å‘½ä»¤ä¸­åŠ å…¥ -fvisibility=hiddenå‚æ•°ï¼Œä¼šå°†æ‰€æœ‰é»˜è®¤çš„publicçš„å±æ€§å˜ä¸ºhiddenã€‚æ­¤æ—¶ï¼Œå¦‚æœå¯¹å‡½æ•°è®¾ç½®&lt;strong&gt;attribute&lt;/strong&gt;((visibility (â€œdefaultâ€)))å‚æ•°ï¼Œä½¿ç‰¹å®šçš„å‡½æ•°ä»ç„¶æŒ‰é»˜è®¤çš„publicå±æ€§å¤„ç†ï¼Œåˆ™-fvisibility=hiddenå‚æ•°ä¸ä¼šå¯¹è¯¥å‡½æ•°èµ·ä½œç”¨ã€‚æ‰€ä»¥ï¼Œè®¾ç½®äº†-fvisibility=hiddenå‚æ•°ä¹‹åï¼Œåªæœ‰è®¾ç½®äº†&lt;strong&gt;attribute&lt;/strong&gt;((visibility (â€œdefaultâ€)))çš„å‡½æ•°æ‰æ˜¯å¯¹å¤–å¯è§çš„ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šé¢è®²äº†ä¸€å¤§å †ï¼Œæ€»ä¹‹å‘¢ï¼Œå°±æ˜¯UIApplicationMainæ˜¯ç•Œé¢ç›¸å…³çš„UIKitæ¡†æ¶å¯¹å¤–å¯è§çš„ä¸€ä¸ªå‡½æ•°ã€‚&lt;/p&gt;

&lt;p&gt;å†æ¥çœ‹çœ‹UIApplicationMainå‡½æ•°ï¼Œå®ƒæ¥æ”¶å››ä¸ªå‚æ•°,å…¶ä¸­argcå’Œargvæ˜¯mainå‡½æ•°ä¼ è¿‡æ¥çš„ï¼Œè¯¥å‡½æ•°è¿˜éœ€è¦ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œç”¨äºæ ‡è¯†åº”ç”¨ç¨‹åºçš„é¦–è¦ç±»ï¼ˆå³åº”ç”¨ç¨‹åºå¯¹è±¡æ‰€å±çš„ç±»ï¼‰å’Œåº”ç”¨ç¨‹åºå§”æ‰˜ç±»ã€‚æœé¦–è¦ç±»å­—ç¬¦ä¸²çš„å€¼ä¸ºnil, UIKitå°±ç¼ºçœä½¿ç”¨UIApplicationç±»ï¼›å¦‚æœåº”ç”¨ç¨‹åºå§”æ‰˜ç±»ä¸ºnilï¼ŒUIKitå°±ä¼šå°†åº”ç”¨ç¨‹åºä¸»nibæ–‡ä»¶ï¼ˆé’ˆå¯¹é€šè¿‡Xcodeæ¨¡æ¿åˆ›å»ºçš„åº”ç”¨ç¨‹åºï¼‰ä¸­çš„æŸä¸ªå¯¹è±¡å‡å®šä¸ºåº”ç”¨ç¨‹åºçš„å§”æ‰˜å¯¹è±¡ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­,åº”ç”¨ç¨‹åºå§”æ‰˜ç±»ä¸æ˜¯nilçš„ï¼Œä»ä¹‹å‰çš„å‡½æ•°å‚æ•°ç±»å‹å’Œå‚æ•°åç§°æ¥çœ‹ï¼Œæ˜¯è‡ªå®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»å‹çš„ä»£ç†ç±»åï¼Œä½†æ˜¯æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;NSStringFromClass([AppDelegate class])
&lt;/pre&gt;

&lt;p&gt;æ‰“å¼€NSStringFromClasså®šä¹‰çœ‹åˆ°ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;FOUNDATION_EXPORT NSString *NSStringFromClass(Class aClass);
&lt;/pre&gt;

&lt;p&gt;è¿™æ˜¯FOUNDATIONæ¡†æ¶ä¸­æä¾›çš„ä¸€ä¸ªåº•å±‚å¯¹å¤–å¯è§çš„å‡½æ•°ï¼Œçœ‹æ„æ€åº”è¯¥æ˜¯è·å–ä¸€ä¸ªClassçš„åç§°ã€‚è‡³äºFOUNDATIONå’ŒUIKITæ¡†æ¶ï¼Œè¿™é‡Œå…ˆä¸è¯¦ç»†ä»‹ç»äº†ï¼Œåé¢å‡†å¤‡è®²æ•´ä¸ªioså¼€å‘æ¡†æ¶æ¶æ„æ—¶å€™å†è¯´ã€‚é‚£ä¹ˆé‡Œé¢è¿™ä¸ª&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[AppDelegate class]
&lt;/pre&gt;

&lt;p&gt;æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿè¿™æ˜¯OCä¸­æ–¹æ³•è°ƒç”¨çš„ä¸€ç§è¯­æ³•ï¼Œå…¶å®OCè°ƒç”¨æ–¹æ³•æ˜¯ä½¿ç”¨â€œæ¶ˆæ¯ç»“æ„â€ï¼ˆmessaging structureï¼‰è€ŒéC&#43;&#43;ç­‰è¯­è¨€çš„â€œå‡½æ•°è°ƒç”¨â€ï¼ˆfunction calling)ï¼Œå…³é”®åŒºåˆ«åœ¨äºï¼šä½¿ç”¨æ¶ˆæ¯ç»“æ„çš„è¯­è¨€ï¼Œå…¶è¿è¡Œæ—¶æ‰€åº”æ‰§è¡Œçš„ä»£ç ç”±è¿è¡Œç¯å¢ƒæ¥å†³å®šï¼›è€Œä½¿ç”¨å‡½æ•°è°ƒç”¨çš„è¯­è¨€ï¼Œåˆ™ç”±ç¼–è¯‘å™¨å†³å®šã€‚å› æ­¤ï¼ŒOCæ˜¯ç›¸å½“åŠ¨æ€çš„ï¼Œå½“è°ƒç”¨ä¸€ä¸ªå®ä¾‹çš„æ–¹æ³•ï¼Œåœ¨runtimeæ—¶å‘è¯¥å®ä¾‹çš„æŒ‡é’ˆå‘é€æ¶ˆæ¯ï¼Œå®ä¾‹åœ¨æ”¶åˆ°æ¶ˆæ¯åï¼Œä»è‡ªèº«çš„å®ç°ä¸­å¯»æ‰¾å“åº”è¿™æ¡æ¶ˆæ¯çš„æ–¹æ³•ã€‚åŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[å®ä¾‹ æ–¹æ³•]; 
&lt;/pre&gt;

&lt;p&gt;or&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[ç±»å æ–¹æ³•å];
&lt;/pre&gt;

&lt;p&gt;å‰é¢è®²è¿‡è°ƒç”¨ä¸€ä¸ªç±»æˆ–å®ä¾‹çš„æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯ç»™è¿™ä¸ªç±»æˆ–å®ä¾‹å‘æ¶ˆæ¯ï¼ˆmessageï¼‰ã€‚ç±»æˆ–å®ä¾‹ç§°ä¸ºâ€œæ¥æ”¶æ–¹â€ã€‚æ‰€ä»¥ï¼Œè°ƒç”¨æ–¹æ³•çš„æ ¼å¼ä¹Ÿå¯ä»¥ç†è§£ä¸ºï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[æ¥æ”¶æ–¹ æ¶ˆæ¯];
&lt;/pre&gt;

&lt;p&gt;åœ¨æœ¯è¯­ä¸Šï¼Œæ•´ä¸ªè¡¨è¾¾å¼ä¹Ÿå«æ¶ˆæ¯è¡¨è¾¾å¼ã€‚å¦‚æœæœ‰è¿”å›å€¼ï¼Œé‚£ä¹ˆå¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;å˜é‡ï¼[æ¥æ”¶æ–¹ æ¶ˆæ¯];
&lt;/pre&gt;

&lt;p&gt;å¦‚æœè¦ä¼ é€’å‚æ•°å‘¢ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[Dog setName:â€œtomâ€];
&lt;/pre&gt;

&lt;p&gt;å½“ç„¶å¦‚æœæœ‰å¤šä¸ªå‚æ•°ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[æ¥æ”¶æ–¹ åå­—1:å‚æ•°1 åå­—2:å‚æ•°2, åå­—3:å‚æ•°3 .. ];
&lt;/pre&gt;

&lt;p&gt;ä¸ºäº†é¿å…å£°æ˜è¿‡å¤šçš„æœ¬åœ°å˜é‡ä¿å­˜ä¸´æ—¶ç»“æœï¼ŒObjective-Cå…è®¸ä½ ä½¿ç”¨åµŒå¥—æ¶ˆæ¯ã€‚æ¯ä¸ªåµŒå¥—æ¶ˆæ¯çš„è¿”å›å€¼å¯ä»¥ä½œä¸ºå…¶ä»–æ¶ˆæ¯çš„å‚æ•°æˆ–è€…ç›®æ ‡ã€‚å¦‚ä¸‹ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[NSString stringWithFormat:[dog getName]];
&lt;/pre&gt;

&lt;p&gt;è™½ç„¶è¿™æ ·å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¸ºäº†æ›´å¥½çš„ä»£ç å¯è¯»æ€§ï¼Œå»ºè®®é¿å…åœ¨ä¸€è¡Œä»£ç ä¸­åµŒå¥—è°ƒç”¨è¶…è¿‡ä¸¤ä¸ªæ–¹æ³•ã€‚&lt;/p&gt;

&lt;p&gt;ä»‹ç»äº†é‚£ä¹ˆå¤šå…³äºå…³äºæ¶ˆæ¯ä¼ é€’çš„çŸ¥è¯†ï¼Œç°åœ¨ç»ˆäºå¯ä»¥ç†è§£&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;[AppDelegate class]
&lt;/pre&gt;

&lt;p&gt;å…¶å®æ„æ€å°±æ˜¯å‘AppDelegateç±»å‘äº†classæ¶ˆæ¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¶ˆæ¯ï¼ˆå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼‰æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæˆ‘ä»¬ç»§ç»­æ‰¾åˆ°classçš„å®šä¹‰ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;&#43; (Class)class;
&lt;/pre&gt;

&lt;p&gt;åœ¨NSObject.hæ–‡ä»¶ä¸­æ‰¾åˆ°äº†å¦‚ä¸Šçš„å£°æ˜ï¼Œæœ‰ç‚¹ç±»ä¼¼c&#43;&#43;ä¸­å¤´æ–‡ä»¶ä¸­æ–¹æ³•çš„å£°æ˜ã€‚æ­¤å¤„åˆå‡ºç°å¥‡æ€ªçš„ï¼‹å·ï¼Œè¿™ä¸ªåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¯·å¬ä¸‹å›åˆ†è§£ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2015/2/7/learn-ios-dev-faster-oc-1.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2015&lt;/sup&gt;â„&lt;sub&gt;2&lt;/sub&gt;/7/learn-ios-dev-faster-oc-1.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>cocos2d-x 3.0å­¦ä¹ -Androidä¸­é›†æˆAdmobæ’é¡µå¹¿å‘Š</title>
            <link>2014/8/17/cocos2d-x-3-android-Admob-InterstitialAd.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2014-08-17 19:00:00</pubDate>
            <description>&lt;h2&gt;ä¸€ã€ä¸»è¦æ­¥éª¤&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªå…è´¹çš„Admobè´¦æˆ·: (&lt;a href=&#34;http://www.google.com/ads/admob/39)[http://www.google.com/ads/admob/39&#34;&gt;http://www.google.com/ads/admob/39)[http://www.google.com/ads/admob/39&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæ–°çš„app ID,å¹¶è®¾ç½®ç±»å‹ä¸ºæ’é¡µå¹¿å‘Šçš„AdMobå¹¿å‘Šå•å…ƒ&lt;/li&gt;
&lt;li&gt;å¯¼å…¥Google Play servicesï¼Œåœ¨eclipseä¸­é€‰æ‹©Windows -&gt; Android SDK Manager -&gt; Extras -&gt; â€œGoogle Play servicesâ€ -&gt; Install packages&lt;/li&gt;
&lt;li&gt;ä¿®æ”¹AndroidManifest.xmlæ–‡ä»¶æ–°å¢å¦‚ä¸‹ä»£ç ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;AndroidManifest.xml&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;&lt;meta-data android:name=&#34;com.google.android.gms.version&#34;
               android:value=&#34;@integer/google_play_services_version&#34;/&gt;
    &lt;activity android:name=&#34;com.google.android.gms.ads.AdActivity&#34;
              android:configChanges=&#34;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&#34;/&gt;
&lt;uses-permission android:name=&#34;android.permission.ACCESS_NETWORK_STATE&#34;/&gt;
&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹AppActivity.javaç±»å¦‚ä¸‹ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;AppActivity.java&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;public class AppActivity extends Cocos2dxActivity {

private static AppActivity _appActiviy;
private static final String AD_UNIT_ID = &#34;your-ad-unit-id&#34;; //ä½ è‡ªå·±å¹¿å‘Šå•å…ƒçš„ID
private static InterstitialAd interstitial;



@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON);

    interstitial = new InterstitialAd(this);
    interstitial.setAdUnitId(AD_UNIT_ID);
    _appActiviy = this;
    AdRequest adRequest = new AdRequest.Builder()
    .addTestDevice(AdRequest.DEVICE_ID_EMULATOR)
    .addTestDevice(&#34;HASH_DEVICE_ID&#34;)
    .build();

    interstitial.loadAd(adRequest);

}
public static void showInterstitial(){
    _appActiviy.runOnUiThread(new Runnable() {

        @Override
        public void run() {
             if (interstitial.isLoaded()) {
                  interstitial.show();
              }
        }
    });

    }

}
&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;æœ€åæ·»åŠ cppä»£ç ï¼Œè¿™ä¸æ¨ªå¹…å¹¿å‘Šä¸€æ ·ï¼š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;AdmobHelper.h&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#ifndef  __ADMOB_HELPER_H_
#define  __ADMOB_HELPER_H_

class AdmobHelper
{
public:
    static void hideAd();
    static void showAd();
    static bool isAdShowing;

};
#endif // __ADMOB_HELPER_H_
&lt;/pre&gt;

&lt;p&gt;AdmobHelper.cpp&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#include &#34;AdmobHelper.h&#34;
#include &#34;cocos2d.h&#34;

bool AdmobHelper::isAdShowing = true;

#if (CC_TARGET_PLATFORM == CC_PLATFORM_ANDROID)

#include &#34;platform/android/jni/JniHelper.h&#34;
#include &lt;jni.h&gt;
//#include &lt;android/log.h&gt;


const char* AppActivityClassName = &#34;org/cocos2dx/cpp/AppActivity&#34;;

void AdmobHelper::hideAd()
{
    cocos2d::JniMethodInfo t;
    if (cocos2d::JniHelper::getStaticMethodInfo(t, AppActivityClassName, &#34;hideAd&#34;, &#34;()V&#34;))
    {

        t.env-&gt;CallStaticVoidMethod(t.classID, t.methodID);
        t.env-&gt;DeleteLocalRef(t.classID);
        isAdShowing = false;
    }
}



void AdmobHelper::showAd()
{

    cocos2d::JniMethodInfo t;
    if (cocos2d::JniHelper::getStaticMethodInfo(t, AppActivityClassName, &#34;showAd&#34;, &#34;()V&#34;))
    {

        t.env-&gt;CallStaticVoidMethod(t.classID, t.methodID);
        t.env-&gt;DeleteLocalRef(t.classID);
        isAdShowing = true;
    }

}


#else


void AdmobHelper::hideAd()
{
    CCLOG(&#34;hideAd() called&#34;);
    isAdShowing = false;
    return; //nothing
}


void AdmobHelper::showAd()
{
    CCLOG(&#34;showAd() called&#34;);
    isAdShowing = true;
    return; //nothing;

}

#endif
&lt;/pre&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;ç®€å•è®²è¿°cocos2d-x-3åœ¨androidä¸­æ·»åŠ æ’é¡µå¹¿å‘Šçš„æ­¥éª¤ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2014/8/17/cocos2d-x-3-android-Admob-InterstitialAd.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2014&lt;/sup&gt;â„&lt;sub&gt;8&lt;/sub&gt;/17/cocos2d-x-3-android-Admob-InterstitialAd.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>cocos2d-x 3.0å­¦ä¹ -å“åº”androidçš„backæŒ‰é”®</title>
            <link>2014/7/21/cocos2d-x-3-android-backspace-key.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2014-07-21 22:50:00</pubDate>
            <description>&lt;h2&gt;ä¸€ã€å“åº”androidçš„backæŒ‰é”®&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬éƒ½çŸ¥é“ï¼Œcocos2d-xå¯ä»¥æ–¹ä¾¿çš„æ„å»ºä¸åŒå¹³å°çš„åº”ç”¨ï¼Œå½“æˆ‘ä»¬æ„å»ºåŸºäºandroidçš„åº”ç”¨æ—¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½éœ€è¦ç”¨åˆ°androidçš„è¿”å›æŒ‰é”®ã€‚å½“ç„¶è¿™ä¸ªè¿”å›æŒ‰é”®åœ¨iPhoneæ‰‹æœºä¸Šæ˜¯æ‰¾ä¸åˆ°çš„ï¼ˆç›®å‰è¿˜æ˜¯å¦‚æ­¤ï¼‰ã€‚æ—¢ç„¶androidæœ‰è¿™ä¸ªæŒ‰é”®ï¼Œcocos2d-xå½“ç„¶ä¸ä¼šå¯¹å®ƒç½®ä¹‹ä¸ç†ï¼Œåœ¨cocos2d-xå¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ç¨‹åºæ¥å“åº”è¿”å›æŒ‰é”®åŠ¨ä½œã€‚&lt;/p&gt;

&lt;h2&gt;äºŒã€ç®€å•çš„ä¾‹å­&lt;/h2&gt;

&lt;p&gt;è¿™ä¸ªä¾‹å­æ˜¯åŸºäºcocos2d-x 3.0çš„ï¼Œä»¥å‰çš„ç‰ˆæœ¬ä¸ä¸€æ ·å“¦ï¼Œæ‰€ä»¥ä¸€å®šè¦çœ‹æ¸…æ¥šä½ ç°åœ¨ç”¨çš„æ˜¯ä»€ä¹ˆç‰ˆæœ¬ã€‚åœ¨cocos2d-x 3.0ä¸­ï¼ŒLayerç±»ä¸­æœ‰ä¸€ä¸ª&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;virtual void onKeyReleased(EventKeyboard::KeyCode keyCode, Event* event);
&lt;/pre&gt;

&lt;p&gt;è¿™æ ·çš„è™šæ–¹æ³•ï¼Œæˆ‘ä»¬è¦æƒ³å“åº”ç”¨æˆ·çš„æŒ‰é”®åŠ¨ä½œï¼Œå¯ä»¥åœ¨ç›¸åº”çš„Layerä¸­é‡å†™è¿™ä¸ªå‡½æ•°ã€‚ä¸ºäº†æ–¹ä¾¿åœ¨ä¸åŒLayerä¸­ä½¿ç”¨ï¼Œæˆ‘è¿™é‡Œå†™äº†ä¸€ä¸ªBaseLayerï¼Œè¿™æ ·å¦‚æœæƒ³è¦åœ¨æŸä¸ªå®šä¹‰çš„Layerä¸­å“åº”onKeyReleasedäº‹ä»¶ï¼Œåªéœ€è¦ç»§æ‰¿BaseLayerå°±å¯ä»¥äº†ã€‚&lt;/p&gt;

&lt;p&gt;BaseLayer.h&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#ifndef __BASE_LAYER_H__
#define __BASE_LAYER_H__

#include &#34;cocos2d.h&#34;

using namespace cocos2d;

class BaseLayer:public Layer{
public:
    virtual void onKeyReleased(EventKeyboard::KeyCode keyCode, Event* event);
    bool virtual init();
};

#endif
&lt;/pre&gt;

&lt;p&gt;BaseLayer.cpp&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#include &#34;BaseLayer.h&#34;

void BaseLayer::onKeyReleased(EventKeyboard::KeyCode keyCode, Event* event){
    if(keyCode == EventKeyboard::KeyCode::KEY_BACKSPACE){
         Director::getInstance()-&gt;popScene();
    }else if (keyCode == EventKeyboard::KeyCode::KEY_MENU){

    }
}

bool BaseLayer::init(){
    if(!Layer::init()){
        return false;
    }
    this-&gt;setKeyboardEnabled(true);

    return true;
}
&lt;/pre&gt;

&lt;p&gt;éå¸¸ç®€å•ï¼Œä½†æ˜¯è¿˜æ˜¯ç®€å•è§£é‡Šä¸‹ï¼Œæ³¨æ„åœ¨initå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†this-&gt;setKeyboardEnabled(true);è¿™æ˜¯éå¸¸é‡è¦çš„ï¼Œå¦åˆ™æŒ‰é”®å°†ä¸ä¼šæœ‰å“åº”æ•ˆæœã€‚ç„¶åï¼Œæˆ‘ä»¬çœ‹onKeyReleasedå‡½æ•°ä¸­çš„å‚æ•°ï¼Œæœ‰ä¸€ä¸ªæ˜¯KeyCodeï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®ƒæ¥åŒºåˆ†ä¸åŒæŒ‰é”®ï¼ŒKeyCodeæ˜¯ä¸€ä¸ªenum&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt; enum class KeyCode
{
    KEY_NONE              = 0,
    KEY_PAUSE             = 0x0013,
    KEY_SCROLL_LOCK       = 0x1014,
    KEY_PRINT             = 0x1061,
    KEY_SYSREQ            = 0x106A,
    KEY_BREAK             = 0x106B,
    KEY_ESCAPE            = 0x001B,
    KEY_BACKSPACE         = 0x0008,
    KEY_TAB               = 0x000
    ...
 }
&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œæˆ‘ä»¬éœ€è¦å¤„ç†KEY_BACKSPACEï¼Œæ‰€æœ‰æ­£å¦‚ä¸Šé¢ä»£ç æ‰€ç¤ºï¼Œæˆ‘ä»¬åˆ¤æ–­keyCode == EventKeyboard::KeyCode::KEY_BACKSPACEï¼Œå¦‚æœæ˜¯KEY_BACKSPACEï¼Œé‚£ä¹ˆå°±å¤„ç†è¿™ä¸ªæŒ‰é”®çš„å“åº”ã€‚&lt;/p&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;ç®€å•è®²è¿°äº†å¦‚ä½•åœ¨cocos2d-xä¸­å“åº”backspaceæŒ‰é”®ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2014/7/21/cocos2d-x-3-android-backspace-key.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2014&lt;/sup&gt;â„&lt;sub&gt;7&lt;/sub&gt;/21/cocos2d-x-3-android-backspace-key.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>cocos2d-x 3.0å­¦ä¹ -åˆ›å»ºèœå•åœºæ™¯</title>
            <link>2014/6/22/cocos2d-x-3-menu.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2014-06-22 10:50:00</pubDate>
            <description>&lt;h2&gt;ä¸€ã€åˆ›å»ºèœå•åœºæ™¯&lt;/h2&gt;

&lt;p&gt;æˆ‘ä»¬åœ¨ä¸€ä¸ªæ¸¸æˆä¸­ï¼Œé€šå¸¸æ‰“å¼€æ¸¸æˆåéƒ½ä¼šæœ‰ä¸€ä¸ªèœå•åœºæ™¯ï¼Œåœ¨èœå•åœºæ™¯ä¸­ä½ å¯ä»¥ç‚¹å‡»å¼€å§‹æŒ‰é’®ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»å…¶å®ƒä¾‹å¦‚è®¾ç½®ç­‰æŒ‰é’®ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸é€šç”¨çš„åœºæ™¯ï¼Œä»Šå¤©å°±æ¥å°è¯•åˆ›å»ºä¸€ä¸ªmenuçš„åœºæ™¯ã€‚&lt;/p&gt;

&lt;h2&gt;äºŒã€ç®€å•çš„ä¾‹å­ - hello Menu Scene&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆåˆ›å»ºä¸€ä¸ªåœºæ™¯ç±»:&lt;/p&gt;

&lt;p&gt;MenuScene.h&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#ifndef __MENU_SCENE_H__
#define __MENU_SCENE_H__


#include &#34;cocos2d.h&#34;

using namespace cocos2d;

class MenuScene:public Scene{
public:
    MenuScene();
    ~MenuScene();
    virtual bool init();
    CREATE_FUNC(MenuScene);

};
#endif
&lt;/pre&gt;

&lt;p&gt;MenuScene.cpp&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#include &#34;MenuScene.h&#34;
#include &#34;MenuLayer.h&#34;
#include &#34;BackgroundLayer.h&#34;

MenuScene::MenuScene(){};
MenuScene::~MenuScene(){};

bool MenuScene::init(){
    if(!Scene::init()){
        return false;
    }

    auto bgLayer = BackgroundLayer::create();
    if(bgLayer){
        this-&gt;addChild(bgLayer);
    }

    auto menuLayer = MenuLayer::create();
    if(menuLayer){
        this-&gt;addChild(menuLayer);
    }

    return true;
}
&lt;/pre&gt;

&lt;p&gt;å¯ä»¥çœ‹åˆ°åœ¨å®ç°ç±»ä¸­ï¼Œæˆ‘ä»¬åœ¨Sceneä¸­æ·»åŠ äº†ä¸¤ä¸ªå±‚ï¼Œä¸€ä¸ªæ˜¯èƒŒæ™¯å±‚ï¼Œä¸€ä¸ªæ˜¯èœå•å±‚ã€‚èƒŒæ™¯å±‚å°±ä¸è¯´äº†ï¼Œå’Œåˆ›å»ºæ™®é€šå±‚æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯åœ¨å±‚ä¸­æ·»åŠ ä¸€ä¸ªèƒŒæ™¯å›¾è€Œå·²ã€‚ä¸‹é¢çœ‹ä¸‹èœå•å±‚ï¼š
MenuLayer.h&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#ifndef __MENU_LAYER_H__
#define __MENU_LAYER_H__

#include &#34;cocos2d.h&#34;

using namespace cocos2d;

class MenuLayer:public Layer{
public:
    virtual bool init();
    CREATE_FUNC(MenuLayer);
    void menuStartCallback(Object *sender);

};
#endif
&lt;/pre&gt;

&lt;p&gt;MenuLayer.cpp&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#include &#34;MenuLayer.h&#34;
#include &#34;GameScene.h&#34;

bool MenuLayer::init(){
if(!Layer::init()){
    return false;
}
Point origin = Director::getInstance()-&gt;getVisibleOrigin();
Size visiableSize = Director::getInstance()-&gt;getVisibleSize();
SpriteFrame *playBtnFrmae = SpriteFrameCache::getInstance()-&gt;getSpriteFrameByName(&#34;play_btn.png&#34;);
auto playBtn = Sprite::createWithSpriteFrame(playBtnFrmae);
auto activePlayBtn = Sprite::createWithSpriteFrame(playBtnFrmae);
activePlayBtn-&gt;setPositionY(7);
auto menuItem  = MenuItemSprite::create(playBtn,activePlayBtn,NULL,CC_CALLBACK_1(MenuLayer::menuStartCallback, this));
menuItem-&gt;setPosition(Point(origin.x &#43; visiableSize.width/2 ,origin.y &#43; visiableSize.height*2/5));

auto menu = Menu::create(menuItem,NULL);
menu-&gt;setPosition(Point(origin.x ,origin.y));
this-&gt;addChild(menu,1);
return true;
}

void MenuLayer::menuStartCallback(Object *sender){
    log(&#34;start game...&#34;);
    auto gameScene = GameScene::create();
    TransitionScene *transition = TransitionFade::create(1,gameScene);
    Director::getInstance()-&gt;replaceScene(transition);
}
&lt;/pre&gt;

&lt;p&gt;åœ¨èœå•å±‚ä¸­çš„initå‡½æ•°ä¸­ï¼Œé€šè¿‡MenuItemSprite::create(playBtn,activePlayBtn,NULL,CC_CALLBACK_1(MenuLayer::menuStartCallback, this));åˆ›å»ºäº†ä¸€ä¸ªåŸºäºç²¾çµçš„èœå•é¡¹ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªç²¾çµï¼Œç¬¬äºŒä¸ªä¹Ÿæ˜¯ï¼Œåªä¸è¿‡å¯¹ç¬¬äºŒä¸ªè¿›è¡Œäº†Yæ–¹å‘çš„åç§»ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£å¸¸æƒ…å†µèœå•é¡¹æ˜¾ç¤ºçš„ç²¾çµï¼ˆå¯ä»¥ç®€å•è®¤ä¸ºå›¾ç‰‡ï¼‰ï¼Œç¬¬äºŒä¸ªæ˜¯å½“é€‰ä¸­èœå•é¡¹æ—¶å€™èœå•é¡¹æ˜¾ç¤ºçš„ç²¾çµï¼Œè¿™æ ·å°±å½¢æˆäº†åŠ¨æ€æ•ˆæœã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ— æ•ˆæ—¶å€™çš„èœå•é¡¹æ˜¾ç¤ºï¼Œè¿™é‡Œä¸éœ€è¦æ‰€ä»¥æ˜¯NULLï¼Œç¬¬å››ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå°±æ˜¯å½“ç‚¹å‡»èœå•é¡¹æ—¶å€™è§¦å‘çš„å‡½æ•°ã€‚äºæ˜¯å½“ç‚¹å‡»çš„æ—¶å€™ï¼Œå°±ä¼šè°ƒç”¨ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;void MenuLayer::menuStartCallback(Object *sender){
    log(&#34;start game...&#34;);
    auto gameScene = GameScene::create();
    TransitionScene *transition = TransitionFade::create(1,gameScene);
    Director::getInstance()-&gt;replaceScene(transition);
}
&lt;/pre&gt;

&lt;p&gt;è¿™é‡Œé™¤äº†æ‰“å°logå¤–ï¼Œåˆ›å»ºäº†ä¸€ä¸ªä¸»æ¸¸æˆåœºæ™¯ï¼Œå¹¶é€šè¿‡TransitionSceneè¿›è¡Œåˆ‡æ¢åœºæ™¯ã€‚è¿˜æ˜¯å›åˆ°ä¸Šé¢ï¼Œå®Œæˆåˆ›å»ºèœå•é¡¹åï¼Œå°±å¯ä»¥åˆ›å»ºèœå•äº†ï¼Œåªè¦æŠŠèœå•é¡¹æ”¾å…¥èœå•å³å¯ã€‚å½“ç„¶è¿™é‡Œåªæœ‰ä¸€ä¸ªèœå•é¡¹ï¼Œä½ å¯ä»¥å¯ä»¥å°è¯•åˆ›å»ºå¤šä¸ªã€‚æœ€åå°†Menuå¯¹è±¡æ”¾å…¥å±‚ä¸­ï¼Œå°±å¥½äº†ã€‚æœ€åæ•ˆæœï¼š&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;/assets/themes/bs/pic/menu.png&#34;&gt;&lt;img src=&#34;/assets/themes/bs/pic/menu.png&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;é•¿å¾—æœ‰ç‚¹ä¸‘ï¼Œå“ˆå“ˆï¼Œè¿™é‡Œåªæ˜¯é€šè¿‡ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥å±•ç¤ºå¦‚ä½•åˆ›å»ºèœå•åœºæ™¯çš„ï¼Œä½ å¯ä»¥å°è¯•åŠ å…¥æ›´å¥½çœ‹çš„å…ƒç´ ï¼Œåˆ›å»ºä¸€ä¸ªæ›´æ¼‚äº®çš„èœå•åœºæ™¯ã€‚å½“ç„¶åˆ›å»ºèœå•çš„è¿‡ç¨‹ç±»ä¼¼ã€‚&lt;/p&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;ä¸€ä¸ªå°ä¾‹å­ï¼Œå±•ç¤ºå¦‚ä½•åœ¨cocos2d-xä¸­åˆ›å»ºèœå•åœºæ™¯ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2014/6/22/cocos2d-x-3-menu.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2014&lt;/sup&gt;â„&lt;sub&gt;6&lt;/sub&gt;/22/cocos2d-x-3-menu.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>éšä¾¿è¯´è¯´</title>
            <link>2014/6/15/talk-today.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2014-06-15 18:53:00</pubDate>
            <description>&lt;h2&gt;æ„‰å¿«çš„å‘¨æœ«&lt;/h2&gt;

&lt;p&gt;è¿™ä¸ªåº”è¯¥æ˜¯æœ¬åšå®¢çš„ç¬¬ä¸€ç¯‡éæŠ€æœ¯ç±»æ–‡ç« ã€‚ä¹‹å‰ä¸€ç›´ä¸æƒ³å‘éæŠ€æœ¯ç±»çš„æ–‡ç« ï¼Œè§‰å¾—è¦å‘ç‚¹æœ‰ç”¨çš„ä¸œè¥¿ç»™è¯»è€…çœ‹æ‰å¥½ï¼Œä¸è¿‡ï¼Œä»Šå¤©å°±ç ´ä¾‹ä¸€æ¬¡äº†ã€‚å› ä¸ºä»Šå¤©æ˜¯ä¸€ä¸ªæ„‰å¿«çš„å‘¨æœ«ã€‚åŸå› æ˜¯ä»Šå¤©ä¸€å£æ°”ä¿®å¤äº†åŸºäºGoè¯­è¨€çš„é™æ€åšå®¢å¼•æ“(&lt;a href=&#34;https://github.com/scottkiss/gosk&#34;&gt;gosk&lt;/a&gt;)çš„å¥½å‡ ä¸ªbugï¼ŒçœŸæ˜¯å¤§å¿«äººå¿ƒã€‚å…¶å®è¿™äº›bugé—ç•™å¾ˆä¹…äº†ï¼Œä¸€ç›´æ²¡è¿™ä¸ªåŠ¨åŠ›å»ä¿®å¤ï¼Œå…¶ä¸­ä¸€ä¸ªå°±æ˜¯å¦‚æœç¼–è¾‘çš„æ–‡ç« é‡Œé¢æœ‰ä»£ç ï¼Œå¯¹äºä»£ç é«˜äº®å¤„ç†æœ‰äº›bugï¼Œå¯¹äºç±»xmlçš„ä»£ç ï¼ˆåŒ…å«å°å°–æ‹¬å·çš„codeï¼‰éœ€è¦çœŸå®ä»¥ä»£ç æ˜¾ç¤ºçš„ï¼Œåˆ°å‰å°å´ä¸€èµ·å’Œå…¶å®ƒæ–‡ç« å†…å®¹ä¸€æ ·è¢«è½¬ç äº†ï¼Œä¹‹å‰æ–¹æ³•æ˜¯æ”¾åœ¨å‰å°è„šæœ¬ä¸­jsæ¥å¤„ç†ï¼Œè™½ç„¶å‹‰å¼ºå®ç°äº†ï¼Œä½†æ˜¯æœ‰å„ç§bugï¼Œè€Œä¸”é€Ÿåº¦è¶…æ…¢ã€‚ä¹‹å‰ä¸€ç›´æ‹–ç€ï¼Œè§‰å¾—è¿™ä¸ªä¸œè¥¿å¯èƒ½è¦èŠ±äº›æ—¶é—´æ‰èƒ½æå®šï¼Œå°±ä¸æƒ³æµªè´¹æ—¶é—´ï¼Œä»Šå¤©å®åœ¨æ˜¯å¿ä¸ä¸‹å»äº†ï¼Œç»“æœæ²¡æƒ³è±¡ä¸­çš„é‚£ä¹ˆèŠ±è´¹æ—¶é—´ã€‚çœ‹æ¥æœ‰æ—¶å€™åªè¦ä¸‹å†³å¿ƒï¼Œä¸€äº›ä½ æƒ³åƒå¾ˆéº»çƒ¦çš„äº‹æƒ…å…¶å®ä¹Ÿæ²¡é‚£ä¹ˆéº»çƒ¦ï¼Œä¸€ä¸ªæ‹–äº†å°†è¿‘åŠå¹´çš„é—®é¢˜ï¼Œä¸€ä¼šä¼šè§£å†³ã€‚å¦å¤–è¿˜æ›´æ–°äº†cocos2d-xçš„ä¸€ç¯‡å°æ–‡ç« ï¼Œé¡ºå¸¦å®Œæˆäº†æœ€è¿‘åœ¨åšçš„ä¸€ä¸ªæ¸¸æˆçš„ä¸€ä¸ªåœºæ™¯ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2014/6/15/talk-today.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2014&lt;/sup&gt;â„&lt;sub&gt;6&lt;/sub&gt;/15/talk-today.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>cocos2d-x 3.0å­¦ä¹ -ä½¿ç”¨Physicalsåˆ›å»ºç‰©ç†ä¸–ç•Œ</title>
            <link>2014/6/15/cocos2d-x-3-physicals.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2014-06-15 11:50:00</pubDate>
            <description>&lt;h2&gt;ä¸€ã€åˆ›å»ºç‰©ç†ä¸–ç•Œ&lt;/h2&gt;

&lt;p&gt;åœ¨cocos2d-x 3.0ç‰ˆæœ¬ä¸­ï¼Œå°è£…äº†æ–¹ä¾¿æ¨¡æ‹Ÿç‰©ç†ä¸–ç•Œæ“ä½œçš„ä¸€ç³»åˆ—physicalsç±»ï¼Œåœ¨è¿™ä¹‹å‰ä¸€èˆ¬æ˜¯å°†box2dæˆ–è€…chipmunké›†æˆåˆ°cocos2d-xä¸­æ¥ã€‚è€Œç°åœ¨ï¼Œå°±æ–¹ä¾¿å¤šäº†ï¼Œåˆ°åº•å¤šç®€å•ï¼Ÿçœ‹çœ‹å°±çŸ¥é“ã€‚æ¥ä¸‹æ¥å°±æ¥å®ç°ä¸€ä¸ªç®€å•çš„ç‰©ç†ä¸–ç•Œå§ã€‚&lt;/p&gt;

&lt;h2&gt;äºŒã€ç®€å•çš„ä¾‹å­ - hello Physicals world&lt;/h2&gt;

&lt;p&gt;é¦–å…ˆåˆ›å»ºä¸€ä¸ªåœºæ™¯:&lt;/p&gt;

&lt;p&gt;PhyScene.h&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#ifndef __PHY_SCENE_H__
#define __PHY_SCENE_H__


#include &#34;cocos2d.h&#34;

using namespace cocos2d;

class PhySceneDemo:public Layer{
public:
    virtual bool init();
    static Scene* scene();
    CREATE_FUNC(PhySceneDemo);
    void setPhyWorld(PhysicsWorld *phyworld){this-&gt;m_world=phyworld;}
    void PhySceneDemo::onTouchesEnded(const std::vector&lt;Touch*&gt;&amp; touches, Event *event);

private:
    PhysicsWorld *m_world;

};

#endif
&lt;/pre&gt;

&lt;p&gt;PhyScene.cpp&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;#include &#34;PhyScene.h&#34;

Scene* PhySceneDemo::scene(){
    auto scene = Scene::createWithPhysics();
    auto layer = PhySceneDemo::create();
    layer-&gt;setPhyWorld(scene-&gt;getPhysicsWorld());
    scene-&gt;addChild(layer);
    return scene;
}

bool PhySceneDemo::init(){

    if(!Layer::init()){
        return false;
    }

    Size visiableSize = Director::getInstance()-&gt;getVisibleSize();
    Point point = Director::getInstance()-&gt;getVisibleOrigin();
    edge = Sprite::create();

    auto body = PhysicsBody::createEdgeBox(visiableSize,PHYSICSBODY_MATERIAL_DEFAULT,3);
    edge-&gt;setPosition(Point(visiableSize.width/2,visiableSize.height/2));
    edge-&gt;setPhysicsBody(body);
    this-&gt;addChild(edge);
    edge-&gt;setTag(0);
    this-&gt;setTouchEnabled(true);

    return true;
}

void PhySceneDemo::onTouchesEnded(const std::vector&lt;Touch*&gt;&amp; touches, Event *event){
    for(Touch *touch:touches){
        auto location = touch-&gt;getLocation();
        Sprite *sprite = Sprite::create(&#34;hero_00.png&#34;);
        sprite-&gt;setPosition(location);
        sprite-&gt;setTag(1);
        auto sbody = PhysicsBody::createBox(Size(31,32));
        sprite-&gt;setPhysicsBody(sbody);

        this-&gt;addChild(sprite);
    }

}
&lt;/pre&gt;

&lt;p&gt;æœ€åä¿®æ”¹AppDelegate.cppæ–‡ä»¶ï¼Œå°†å¯åŠ¨Sceneè®¾ç½®æˆPhySceneDemoï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;auto scene = PhySceneDemo::scene();
// run
director-&gt;runWithScene(scene);
&lt;/pre&gt;

&lt;p&gt;é€šè¿‡ä»¥ä¸Šä»£ç ä¾¿å®Œæˆäº†å…·æœ‰ç‰©ç†æ•ˆæœçš„ä¸€ä¸ªç‰©ç†åœºæ™¯ï¼Œæ˜¯ä¸æ˜¯éå¸¸ç®€å•ï¼Œæœ€åçœ‹ä¸‹è¿è¡Œæ•ˆæœï¼Œç„¶åæˆ‘ä»¬å†è§£é‡Šå…³é”®ä»£ç çš„æ„æ€ã€‚
&lt;a href=&#34;/assets/themes/bs/pic/cocos_phy.gif&#34;&gt;&lt;img src=&#34;/assets/themes/bs/pic/cocos_phy.gif&#34; alt=&#34;&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;ä¸‰ã€å…³é”®ä»£ç è®²è§£&lt;/h2&gt;

&lt;p&gt;ç›¸ä¿¡å¤§å®¶éƒ½çœ‹åˆ°ä¸Šå›¾çš„æ•ˆæœäº†ï¼Œé‚£ä¹ˆç°åœ¨æ¥å…·ä½“è®²è§£ä¸‹å‰é¢ç¨‹åºä¸­ï¼Œæ˜¯å¦‚ä½•åˆ›å»ºä¸€ä¸ªç‰©ç†ä¸–ç•Œçš„ã€‚
é¦–å…ˆè¿˜æ˜¯åˆ›å»ºäº†ä¸€ä¸ªåœºæ™¯å«åšPhyScene.hçš„å¤´æ–‡ä»¶ï¼Œå…¶ä¸­å¤§éƒ¨åˆ†ä¸æ™®é€šåœºæ™¯çš„åˆ›å»ºç±»ä¼¼ï¼Œæ¯”å¦‚è‡ªå¸¦çš„HelloWorldåœºæ™¯ã€‚åªä¸è¿‡æ–°å¢äº†ä¸€ä¸ªPhysicsWorld *m_world çš„ç§æœ‰æˆå‘˜å˜é‡å’Œä¸€ä¸ªvoid setPhyWorld(PhysicsWorld *phyworld){this-&gt;m_world=phyworld;}æˆå‘˜å‡½æ•°ã€‚ç”±äºPhySceneDemoç±»å…¶å®æ˜¯ä¸€ä¸ªç»§æ‰¿Layerçš„ç±»ï¼Œæœ¬èº«æ˜¯æ²¡æœ‰PhysicsWorldçš„ï¼ŒPhysicsWorldæ˜¯åœ¨Sceneç±»ä¸­çš„ï¼Œä¸Šé¢æ–°å¢çš„è¿™ä¸¤ä¸ªå°±æ˜¯å°†Sceneçš„PhysicsWorldä¼ é€’åˆ°Layerä¸­ï¼Œæ˜¯å¾—Layerå…·æœ‰ç‰©ç†ä¸–ç•Œçš„æ€§è´¨ã€‚å…·ä½“ä¼ é€’å¯ä»¥çœ‹PhyScene.cppçš„sceneæˆå‘˜å‡½æ•°çš„å®ç°ï¼Œé‡Œé¢æœ‰&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;layer-&gt;setPhyWorld(scene-&gt;getPhysicsWorld());
&lt;/pre&gt;

&lt;p&gt;è¿™æ ·ï¼ŒLayerä¸­å°±æœ‰äº†PhysicsWorldï¼Œç„¶åå¯ä»¥è®©æ·»åŠ åˆ°Layerä¸­çš„Spriteç­‰èŠ‚ç‚¹å…·æœ‰ç‰©ç†ç‰¹æ•ˆã€‚å…·ä½“æ¥çœ‹initå®ç°ä¸­çš„ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;edge = Sprite::create();
auto body = PhysicsBody::createEdgeBox(visiableSize,PHYSICSBODY_MATERIAL_DEFAULT,3);
edge-&gt;setPosition(Point(visiableSize.width/2,visiableSize.height/2));
edge-&gt;setPhysicsBody(body);
this-&gt;addChild(edge);
&lt;/pre&gt;

&lt;p&gt;å…³é”®åˆ›å»ºä¸€ä¸ªPhysicsBodyå¯¹è±¡ï¼Œä½†æ˜¯æˆ‘ä»¬çœ‹åˆ°è¿™é‡Œæ˜¯ç”¨createEdgeBoxåˆ›å»ºçš„ã€‚è€Œåé¢çš„onTouchesEndedå‡½æ•°ä¸­çš„åˆæ˜¯ä½¿ç”¨createBoxå‡½æ•°åˆ›å»ºçš„ï¼Œå…¶å®è¿˜æœ‰æ›´å¤šçš„åˆ›å»ºæ–¹å¼ã€‚è™½ç„¶éƒ½æ˜¯è¿”å›PhysicsBodyå¯¹è±¡ï¼Œä½†æ˜¯æ•ˆæœä¸ä¸€æ ·ã€‚ä¸¾ä¾‹è¯´æ˜å‰è€…ï¼Œæˆ‘ä»¬è¿›å…¥createEdgeBoxå‡½æ•°å®ç°å¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt; PhysicsBody* body = new PhysicsBody();
 if (body &amp;&amp; body-&gt;init())
 {
    body-&gt;addShape(PhysicsShapeEdgeBox::create(size, material, border, offset));
    body-&gt;_dynamic = false;
    body-&gt;autorelease();
    return body;
 }
&lt;/pre&gt;

&lt;p&gt;å…¶å®åœ¨åˆ›å»ºPhysicsBodyå¯¹è±¡çš„åŒæ—¶ï¼Œä¼šç»™ä»–èµ‹äºˆShapeå±æ€§å’Œå…¶å®ƒä¸€äº›å±æ€§ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªPhysicsShapeEdgeBoxï¼Œä»åç§°å¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªè¾¹ç¼˜ç›’å­æ¨¡å‹(ç‰©ç†ä¸–ç•Œçš„è¾¹ç¼˜)ã€‚æœ€åè®¾ç½®ç²¾çµå¯¹è±¡çš„PhysicsBodyå±æ€§ä¸ºä¹‹å‰çš„bodyå¯¹è±¡ï¼Œè¿™æ ·è¿™ä¸ªç²¾çµå°±æˆä¸ºäº†ä¸€ä¸ªç‰©ç†ä¸–ç•Œçš„ç²¾çµã€‚&lt;/p&gt;

&lt;h2&gt;æ€»ç»“&lt;/h2&gt;

&lt;p&gt;ç®€å•ä»‹ç»äº†å¦‚ä½•ä½¿ç”¨texturepackerå¹¶åœ¨cocos2d-xä¸­åˆ›å»ºç²¾çµåŠ¨ç”»ã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2014/6/15/cocos2d-x-3-physicals.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2014&lt;/sup&gt;â„&lt;sub&gt;6&lt;/sub&gt;/15/cocos2d-x-3-physicals.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
        <item>
            <title>java servletç®€å•å®ç°httpæœåŠ¡å™¨æ¨</title>
            <link>2014/5/29/http-server-push.html</link>
            <author>å§é›ªSirk</author>
            <pubDate>2014-05-29 15:52:00</pubDate>
            <description>&lt;h2&gt;å‰è¨€&lt;/h2&gt;

&lt;p&gt;è¿™å‡ å¤©æœ‰ä¸ªå°ä¼™ä¼´è¦å®ç°httpåè®®çš„æœåŠ¡å™¨æ¨çš„ä¸šåŠ¡,äºæ˜¯å°±ç®€å•å®ç°äº†ä¸‹ï¼Œä¸”åˆ©ç”¨å®¢æˆ·ç«¯æ¨¡æ‹ŸæŒç»­å‘é€è¯·æ±‚ï¼Œæ¨¡æ‹ŸåŒå‘é€šä¿¡ï¼Œå½“ç„¶åªæ˜¯ä¸€ç§ç®€å•çš„æ¨¡å‹ï¼Œå¦‚è¦åº”ç”¨äºå®é™…è¯·æ…é‡ï¼&lt;/p&gt;

&lt;p&gt;å®¢æˆ·ç«¯ä»£ç :&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;package com.test.client;

import java.io.InputStream;
import java.io.OutputStreamWriter;
import java.net.HttpURLConnection;
import java.net.URL;

public class HttpLongConnectionClient {
public static void main(String[] args) {
    try {

         URL url = new URL(&#34;http://localhost:8080/TestWeb/test.do&#34;);  
          ReqRunnable rr = new ReqRunnable(url);
            Thread reqThread = new Thread(rr);
            reqThread.start();

            InputStream in=url.openStream();  
            int n = -1;  
            byte[] b = new byte[1024];

            while((n=in.read(b))!=-1)  
            {  
                String s=new String(b,0,n);  
                System.out.println(s);      
            }  

    } catch (Exception e) {
        e.printStackTrace();
    }
}

static class ReqRunnable implements Runnable{
    URL url;
    ReqRunnable(URL url){
        this.url = url;
    }
    @Override
    public void run() {
        try {
            int count=0;
            while(true){
                //æ¨¡æ‹Ÿæ–°äº‹ä»¶äº§ç”Ÿ
                HttpURLConnection conn = (HttpURLConnection) this.url.openConnection();
                conn.setDoOutput(true);
                conn.setRequestMethod(&#34;POST&#34;);
                conn.setRequestProperty(&#34;content-type&#34;, &#34;application/x-www-form-urlencoded&#34;);
                conn.setUseCaches(false);
                OutputStreamWriter out = new  OutputStreamWriter (conn.getOutputStream());
                String test = &#34;data=yes&#34;&#43;count&#43;&#43;;
                out.write(test);
                System.out.println(&#34;===&gt;&#34;&#43;test);
                out.flush();                                         
                out.close();
                InputStream inputStream = conn.getInputStream();  
                Thread.sleep(3000);
            }
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

}
}    
&lt;/pre&gt;

&lt;p&gt;æœåŠ¡å™¨ç«¯ä»£ç :&lt;/p&gt;

&lt;pre class=&#34;prettyprint linenums&#34;&gt;public class TestServlet extends HttpServlet {
private static final long serialVersionUID = 1L;


    public TestServlet() {
        super();
    }


protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

    try{
        PrintWriter out = response.getWriter();
        int count = 0;
        while(true){
            System.out.println(&#34;read from client&#34;&#43;request.getParameter(&#34;data&#34;));
            out.println(&#34;hello&#34;&#43;count);
            out.flush();
            Thread.sleep(1000);
            count&#43;&#43;;
        }
    }catch(Exception e){
        e.printStackTrace();
    }

}

}
&lt;/pre&gt;

&lt;h2&gt;å°ç»“&lt;/h2&gt;

&lt;p&gt;ç®€å•å®ç°httpåè®®æœåŠ¡å™¨æ¨ï¼Œæ„Ÿè§‰å†™å¾—å¥½æ¶å¿ƒï¼Œçº¯å±å¨±ä¹~ åç»­ç ”ç©¶æ›´å¥½çš„æ–¹æ¡ˆã€‚&lt;/p&gt;

&lt;p&gt;##æ–‡æ¡£ä¿¡æ¯&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨-éè¡ç”Ÿ-ä¿æŒç½²å | &lt;a href=&#34;http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh&#34;&gt;Creative Commons BY-NC-ND 3.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;åŸæ–‡ç½‘å€ï¼š&lt;a href=&#34;http://www.cocosk.com/articles/2014/5/29/http-server-push.html&#34;&gt;http://www.cocosk.com/articles/&lt;sup&gt;2014&lt;/sup&gt;â„&lt;sub&gt;5&lt;/sub&gt;/29/http-server-push.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ä½œè€…ï¼šå§é›ªSirk&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
       
    </channel>
</rss>